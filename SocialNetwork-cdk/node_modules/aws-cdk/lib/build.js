"use strict";
Object.defineProperty(exports, "__esModule", { value: true });
exports.buildAllStackAssets = void 0;
async function buildAllStackAssets(stacks, options) {
    const { buildStackAssets } = options;
    const buildingErrors = [];
    for (const stack of stacks) {
        try {
            await buildStackAssets(stack);
        }
        catch (err) {
            buildingErrors.push(err);
        }
    }
    if (buildingErrors.length) {
        throw Error(`Building Assets Failed: ${buildingErrors.join(', ')}`);
    }
}
exports.buildAllStackAssets = buildAllStackAssets;
//# sourceMappingURL=data:application/json;base64,eyJ2ZXJzaW9uIjozLCJmaWxlIjoiYnVpbGQuanMiLCJzb3VyY2VSb290IjoiIiwic291cmNlcyI6WyJidWlsZC50cyJdLCJuYW1lcyI6W10sIm1hcHBpbmdzIjoiOzs7QUFNTyxLQUFLLFVBQVUsbUJBQW1CLENBQUMsTUFBMkMsRUFBRSxPQUFnQjtJQUNyRyxNQUFNLEVBQUUsZ0JBQWdCLEVBQUUsR0FBRyxPQUFPLENBQUM7SUFFckMsTUFBTSxjQUFjLEdBQWMsRUFBRSxDQUFDO0lBRXJDLEtBQUssTUFBTSxLQUFLLElBQUksTUFBTSxFQUFFLENBQUM7UUFDM0IsSUFBSSxDQUFDO1lBQ0gsTUFBTSxnQkFBZ0IsQ0FBQyxLQUFLLENBQUMsQ0FBQztRQUNoQyxDQUFDO1FBQUMsT0FBTyxHQUFHLEVBQUUsQ0FBQztZQUNiLGNBQWMsQ0FBQyxJQUFJLENBQUMsR0FBRyxDQUFDLENBQUM7UUFDM0IsQ0FBQztJQUNILENBQUM7SUFFRCxJQUFJLGNBQWMsQ0FBQyxNQUFNLEVBQUUsQ0FBQztRQUMxQixNQUFNLEtBQUssQ0FBQywyQkFBMkIsY0FBYyxDQUFDLElBQUksQ0FBQyxJQUFJLENBQUMsRUFBRSxDQUFDLENBQUM7SUFDdEUsQ0FBQztBQUNILENBQUM7QUFoQkQsa0RBZ0JDIiwic291cmNlc0NvbnRlbnQiOlsiaW1wb3J0ICogYXMgY3hhcGkgZnJvbSAnQGF3cy1jZGsvY3gtYXBpJztcblxudHlwZSBPcHRpb25zID0ge1xuICBidWlsZFN0YWNrQXNzZXRzOiAoc3RhY2s6IGN4YXBpLkNsb3VkRm9ybWF0aW9uU3RhY2tBcnRpZmFjdCkgPT4gUHJvbWlzZTx2b2lkPjtcbn07XG5cbmV4cG9ydCBhc3luYyBmdW5jdGlvbiBidWlsZEFsbFN0YWNrQXNzZXRzKHN0YWNrczogY3hhcGkuQ2xvdWRGb3JtYXRpb25TdGFja0FydGlmYWN0W10sIG9wdGlvbnM6IE9wdGlvbnMpOiBQcm9taXNlPHZvaWQ+IHtcbiAgY29uc3QgeyBidWlsZFN0YWNrQXNzZXRzIH0gPSBvcHRpb25zO1xuXG4gIGNvbnN0IGJ1aWxkaW5nRXJyb3JzOiB1bmtub3duW10gPSBbXTtcblxuICBmb3IgKGNvbnN0IHN0YWNrIG9mIHN0YWNrcykge1xuICAgIHRyeSB7XG4gICAgICBhd2FpdCBidWlsZFN0YWNrQXNzZXRzKHN0YWNrKTtcbiAgICB9IGNhdGNoIChlcnIpIHtcbiAgICAgIGJ1aWxkaW5nRXJyb3JzLnB1c2goZXJyKTtcbiAgICB9XG4gIH1cblxuICBpZiAoYnVpbGRpbmdFcnJvcnMubGVuZ3RoKSB7XG4gICAgdGhyb3cgRXJyb3IoYEJ1aWxkaW5nIEFzc2V0cyBGYWlsZWQ6ICR7YnVpbGRpbmdFcnJvcnMuam9pbignLCAnKX1gKTtcbiAgfVxufVxuIl19