{
 "Resources": {
  "MyCfnEIP": {
   "Type": "AWS::EC2::EIP",
   "Properties": {
    "Domain": "vpc"
   },
   "Metadata": {
    "aws:cdk:path": "SocialNetworkCdkStack/MyCfnEIP"
   }
  },
  "MyCfnNatGateway": {
   "Type": "AWS::EC2::NatGateway",
   "Properties": {
    "AllocationId": {
     "Fn::GetAtt": [
      "MyCfnEIP",
      "AllocationId"
     ]
    },
    "SubnetId": "subnet-0d753b76d128abe1f"
   },
   "Metadata": {
    "aws:cdk:path": "SocialNetworkCdkStack/MyCfnNatGateway"
   }
  },
  "PrivateRouteTable0": {
   "Type": "AWS::EC2::RouteTable",
   "Properties": {
    "VpcId": "vpc-05fc44f3c7d685edb"
   },
   "Metadata": {
    "aws:cdk:path": "SocialNetworkCdkStack/PrivateRouteTable0"
   }
  },
  "PrivateRoute0": {
   "Type": "AWS::EC2::Route",
   "Properties": {
    "DestinationCidrBlock": "0.0.0.0/0",
    "NatGatewayId": {
     "Ref": "MyCfnNatGateway"
    },
    "RouteTableId": {
     "Ref": "PrivateRouteTable0"
    }
   },
   "Metadata": {
    "aws:cdk:path": "SocialNetworkCdkStack/PrivateRoute0"
   }
  },
  "SubnetRouteTableAssociation0": {
   "Type": "AWS::EC2::SubnetRouteTableAssociation",
   "Properties": {
    "RouteTableId": {
     "Ref": "PrivateRouteTable0"
    },
    "SubnetId": "subnet-0c2283da7ffab1df2"
   },
   "Metadata": {
    "aws:cdk:path": "SocialNetworkCdkStack/SubnetRouteTableAssociation0"
   }
  },
  "PrivateRouteTable1": {
   "Type": "AWS::EC2::RouteTable",
   "Properties": {
    "VpcId": "vpc-05fc44f3c7d685edb"
   },
   "Metadata": {
    "aws:cdk:path": "SocialNetworkCdkStack/PrivateRouteTable1"
   }
  },
  "PrivateRoute1": {
   "Type": "AWS::EC2::Route",
   "Properties": {
    "DestinationCidrBlock": "0.0.0.0/0",
    "NatGatewayId": {
     "Ref": "MyCfnNatGateway"
    },
    "RouteTableId": {
     "Ref": "PrivateRouteTable1"
    }
   },
   "Metadata": {
    "aws:cdk:path": "SocialNetworkCdkStack/PrivateRoute1"
   }
  },
  "SubnetRouteTableAssociation1": {
   "Type": "AWS::EC2::SubnetRouteTableAssociation",
   "Properties": {
    "RouteTableId": {
     "Ref": "PrivateRouteTable1"
    },
    "SubnetId": "subnet-0cff5a0113ea24898"
   },
   "Metadata": {
    "aws:cdk:path": "SocialNetworkCdkStack/SubnetRouteTableAssociation1"
   }
  },
  "Users0A0EEA89": {
   "Type": "AWS::DynamoDB::Table",
   "Properties": {
    "AttributeDefinitions": [
     {
      "AttributeName": "UserName",
      "AttributeType": "S"
     }
    ],
    "KeySchema": [
     {
      "AttributeName": "UserName",
      "KeyType": "HASH"
     }
    ],
    "ProvisionedThroughput": {
     "ReadCapacityUnits": 1,
     "WriteCapacityUnits": 1
    }
   },
   "UpdateReplacePolicy": "Delete",
   "DeletionPolicy": "Delete",
   "Metadata": {
    "aws:cdk:path": "SocialNetworkCdkStack/Users/Resource"
   }
  },
  "Posts868B3EAD": {
   "Type": "AWS::DynamoDB::Table",
   "Properties": {
    "AttributeDefinitions": [
     {
      "AttributeName": "PostID",
      "AttributeType": "S"
     },
     {
      "AttributeName": "UserName",
      "AttributeType": "S"
     },
     {
      "AttributeName": "Staging",
      "AttributeType": "S"
     }
    ],
    "GlobalSecondaryIndexes": [
     {
      "IndexName": "UsernameIndex",
      "KeySchema": [
       {
        "AttributeName": "UserName",
        "KeyType": "HASH"
       }
      ],
      "Projection": {
       "ProjectionType": "ALL"
      },
      "ProvisionedThroughput": {
       "ReadCapacityUnits": 1,
       "WriteCapacityUnits": 1
      }
     },
     {
      "IndexName": "StagingIndex",
      "KeySchema": [
       {
        "AttributeName": "Staging",
        "KeyType": "HASH"
       }
      ],
      "Projection": {
       "ProjectionType": "ALL"
      },
      "ProvisionedThroughput": {
       "ReadCapacityUnits": 1,
       "WriteCapacityUnits": 1
      }
     },
     {
      "IndexName": "UsernameStagingIndex",
      "KeySchema": [
       {
        "AttributeName": "UserName",
        "KeyType": "HASH"
       },
       {
        "AttributeName": "Staging",
        "KeyType": "RANGE"
       }
      ],
      "Projection": {
       "ProjectionType": "ALL"
      },
      "ProvisionedThroughput": {
       "ReadCapacityUnits": 1,
       "WriteCapacityUnits": 1
      }
     }
    ],
    "KeySchema": [
     {
      "AttributeName": "PostID",
      "KeyType": "HASH"
     }
    ],
    "ProvisionedThroughput": {
     "ReadCapacityUnits": 1,
     "WriteCapacityUnits": 1
    }
   },
   "UpdateReplacePolicy": "Delete",
   "DeletionPolicy": "Delete",
   "Metadata": {
    "aws:cdk:path": "SocialNetworkCdkStack/Posts/Resource"
   }
  },
  "ImageStorage82E68681": {
   "Type": "AWS::S3::Bucket",
   "Properties": {
    "CorsConfiguration": {
     "CorsRules": [
      {
       "AllowedHeaders": [
        "*"
       ],
       "AllowedMethods": [
        "GET",
        "PUT",
        "POST"
       ],
       "AllowedOrigins": [
        "*"
       ],
       "ExposedHeaders": []
      }
     ]
    }
   },
   "UpdateReplacePolicy": "Delete",
   "DeletionPolicy": "Delete",
   "Metadata": {
    "aws:cdk:path": "SocialNetworkCdkStack/ImageStorage/Resource"
   }
  },
  "ImageStoragePolicy8AD6DC86": {
   "Type": "AWS::S3::BucketPolicy",
   "Properties": {
    "Bucket": {
     "Ref": "ImageStorage82E68681"
    },
    "PolicyDocument": {
     "Statement": [
      {
       "Action": [
        "s3:DeleteObject",
        "s3:GetObject",
        "s3:ListBucket",
        "s3:PutObject"
       ],
       "Effect": "Allow",
       "Principal": {
        "AWS": "arn:aws:iam::361602391862:role/LabRole"
       },
       "Resource": [
        {
         "Fn::GetAtt": [
          "ImageStorage82E68681",
          "Arn"
         ]
        },
        {
         "Fn::Join": [
          "",
          [
           {
            "Fn::GetAtt": [
             "ImageStorage82E68681",
             "Arn"
            ]
           },
           "/*"
          ]
         ]
        }
       ]
      }
     ],
     "Version": "2012-10-17"
    }
   },
   "Metadata": {
    "aws:cdk:path": "SocialNetworkCdkStack/ImageStorage/Policy/Resource"
   }
  },
  "ImageStorageNotifications61C33B66": {
   "Type": "Custom::S3BucketNotifications",
   "Properties": {
    "ServiceToken": {
     "Fn::GetAtt": [
      "BucketNotificationsHandler050a0587b7544547bf325f094a3db8347ECC3691",
      "Arn"
     ]
    },
    "BucketName": {
     "Ref": "ImageStorage82E68681"
    },
    "NotificationConfiguration": {
     "LambdaFunctionConfigurations": [
      {
       "Events": [
        "s3:ObjectCreated:*"
       ],
       "LambdaFunctionArn": {
        "Fn::GetAtt": [
         "updateDBProfilePictureFunction4F2F4DA1",
         "Arn"
        ]
       }
      }
     ]
    },
    "Managed": true
   },
   "DependsOn": [
    "ImageStorageAllowBucketNotificationsToSocialNetworkCdkStackupdateDBProfilePictureFunction0C61FED135478B60",
    "ImageStoragePolicy8AD6DC86"
   ],
   "Metadata": {
    "aws:cdk:path": "SocialNetworkCdkStack/ImageStorage/Notifications/Resource"
   }
  },
  "ImageStorageAllowBucketNotificationsToSocialNetworkCdkStackupdateDBProfilePictureFunction0C61FED135478B60": {
   "Type": "AWS::Lambda::Permission",
   "Properties": {
    "Action": "lambda:InvokeFunction",
    "FunctionName": {
     "Fn::GetAtt": [
      "updateDBProfilePictureFunction4F2F4DA1",
      "Arn"
     ]
    },
    "Principal": "s3.amazonaws.com",
    "SourceAccount": "361602391862",
    "SourceArn": {
     "Fn::GetAtt": [
      "ImageStorage82E68681",
      "Arn"
     ]
    }
   },
   "Metadata": {
    "aws:cdk:path": "SocialNetworkCdkStack/ImageStorage/AllowBucketNotificationsToSocialNetworkCdkStackupdateDBProfilePictureFunction0C61FED1"
   }
  },
  "PostsStorage00A69DB4": {
   "Type": "AWS::S3::Bucket",
   "Properties": {
    "CorsConfiguration": {
     "CorsRules": [
      {
       "AllowedHeaders": [
        "*"
       ],
       "AllowedMethods": [
        "GET",
        "PUT",
        "POST"
       ],
       "AllowedOrigins": [
        "*"
       ],
       "ExposedHeaders": []
      }
     ]
    }
   },
   "UpdateReplacePolicy": "Delete",
   "DeletionPolicy": "Delete",
   "Metadata": {
    "aws:cdk:path": "SocialNetworkCdkStack/PostsStorage/Resource"
   }
  },
  "PostsStoragePolicyD26864C8": {
   "Type": "AWS::S3::BucketPolicy",
   "Properties": {
    "Bucket": {
     "Ref": "PostsStorage00A69DB4"
    },
    "PolicyDocument": {
     "Statement": [
      {
       "Action": [
        "s3:DeleteObject",
        "s3:GetObject",
        "s3:ListBucket",
        "s3:PutObject"
       ],
       "Effect": "Allow",
       "Principal": {
        "AWS": "arn:aws:iam::361602391862:role/LabRole"
       },
       "Resource": [
        {
         "Fn::GetAtt": [
          "PostsStorage00A69DB4",
          "Arn"
         ]
        },
        {
         "Fn::Join": [
          "",
          [
           {
            "Fn::GetAtt": [
             "PostsStorage00A69DB4",
             "Arn"
            ]
           },
           "/*"
          ]
         ]
        }
       ]
      }
     ],
     "Version": "2012-10-17"
    }
   },
   "Metadata": {
    "aws:cdk:path": "SocialNetworkCdkStack/PostsStorage/Policy/Resource"
   }
  },
  "PostsStorageNotificationsACCA9B1E": {
   "Type": "Custom::S3BucketNotifications",
   "Properties": {
    "ServiceToken": {
     "Fn::GetAtt": [
      "BucketNotificationsHandler050a0587b7544547bf325f094a3db8347ECC3691",
      "Arn"
     ]
    },
    "BucketName": {
     "Ref": "PostsStorage00A69DB4"
    },
    "NotificationConfiguration": {
     "QueueConfigurations": [
      {
       "Events": [
        "s3:ObjectCreated:*"
       ],
       "QueueArn": {
        "Fn::GetAtt": [
         "ImageUploadQueue828B2CCD",
         "Arn"
        ]
       }
      }
     ]
    },
    "Managed": true
   },
   "DependsOn": [
    "ImageUploadQueuePolicy68CD3164",
    "ImageUploadQueue828B2CCD",
    "PostsStoragePolicyD26864C8"
   ],
   "Metadata": {
    "aws:cdk:path": "SocialNetworkCdkStack/PostsStorage/Notifications/Resource"
   }
  },
  "EmptyBucketFunctionE15B44A2": {
   "Type": "AWS::Lambda::Function",
   "Properties": {
    "Code": {
     "S3Bucket": "cdk-hnb659fds-assets-361602391862-us-east-1",
     "S3Key": "4bf8aa3bdad367195f1976734a1e13165ff8626d287d80fe4efe4575d6e540d4.zip"
    },
    "Handler": "index.handler",
    "Role": "arn:aws:iam::361602391862:role/LabRole",
    "Runtime": "nodejs20.x",
    "Timeout": 300
   },
   "Metadata": {
    "aws:cdk:path": "SocialNetworkCdkStack/EmptyBucketFunction/Resource",
    "aws:asset:path": "asset.4bf8aa3bdad367195f1976734a1e13165ff8626d287d80fe4efe4575d6e540d4",
    "aws:asset:is-bundled": false,
    "aws:asset:property": "Code"
   }
  },
  "EmptyBucketResourceProviderImageStorageframeworkonEventD094AABA": {
   "Type": "AWS::Lambda::Function",
   "Properties": {
    "Code": {
     "S3Bucket": "cdk-hnb659fds-assets-361602391862-us-east-1",
     "S3Key": "3542be390685e0c8353d92ccb5796d343cd93ca946b6b0de798004206a199adc.zip"
    },
    "Description": "AWS CDK resource provider framework - onEvent (SocialNetworkCdkStack/EmptyBucketResourceProvider-ImageStorage)",
    "Environment": {
     "Variables": {
      "USER_ON_EVENT_FUNCTION_ARN": {
       "Fn::GetAtt": [
        "EmptyBucketFunctionE15B44A2",
        "Arn"
       ]
      }
     }
    },
    "Handler": "framework.onEvent",
    "Role": "arn:aws:iam::361602391862:role/LabRole",
    "Runtime": "nodejs20.x",
    "Timeout": 900
   },
   "Metadata": {
    "aws:cdk:path": "SocialNetworkCdkStack/EmptyBucketResourceProvider-ImageStorage/framework-onEvent/Resource",
    "aws:asset:path": "asset.3542be390685e0c8353d92ccb5796d343cd93ca946b6b0de798004206a199adc",
    "aws:asset:is-bundled": false,
    "aws:asset:property": "Code"
   }
  },
  "EmptyBucketResourceImageStorage": {
   "Type": "AWS::CloudFormation::CustomResource",
   "Properties": {
    "ServiceToken": {
     "Fn::GetAtt": [
      "EmptyBucketResourceProviderImageStorageframeworkonEventD094AABA",
      "Arn"
     ]
    },
    "BucketName": {
     "Ref": "ImageStorage82E68681"
    }
   },
   "UpdateReplacePolicy": "Delete",
   "DeletionPolicy": "Delete",
   "Metadata": {
    "aws:cdk:path": "SocialNetworkCdkStack/EmptyBucketResource-ImageStorage/Default"
   }
  },
  "EmptyBucketResourceProviderPostsStorageframeworkonEvent244C7CF8": {
   "Type": "AWS::Lambda::Function",
   "Properties": {
    "Code": {
     "S3Bucket": "cdk-hnb659fds-assets-361602391862-us-east-1",
     "S3Key": "3542be390685e0c8353d92ccb5796d343cd93ca946b6b0de798004206a199adc.zip"
    },
    "Description": "AWS CDK resource provider framework - onEvent (SocialNetworkCdkStack/EmptyBucketResourceProvider-PostsStorage)",
    "Environment": {
     "Variables": {
      "USER_ON_EVENT_FUNCTION_ARN": {
       "Fn::GetAtt": [
        "EmptyBucketFunctionE15B44A2",
        "Arn"
       ]
      }
     }
    },
    "Handler": "framework.onEvent",
    "Role": "arn:aws:iam::361602391862:role/LabRole",
    "Runtime": "nodejs20.x",
    "Timeout": 900
   },
   "Metadata": {
    "aws:cdk:path": "SocialNetworkCdkStack/EmptyBucketResourceProvider-PostsStorage/framework-onEvent/Resource",
    "aws:asset:path": "asset.3542be390685e0c8353d92ccb5796d343cd93ca946b6b0de798004206a199adc",
    "aws:asset:is-bundled": false,
    "aws:asset:property": "Code"
   }
  },
  "EmptyBucketResourcePostsStorage": {
   "Type": "AWS::CloudFormation::CustomResource",
   "Properties": {
    "ServiceToken": {
     "Fn::GetAtt": [
      "EmptyBucketResourceProviderPostsStorageframeworkonEvent244C7CF8",
      "Arn"
     ]
    },
    "BucketName": {
     "Ref": "PostsStorage00A69DB4"
    }
   },
   "UpdateReplacePolicy": "Delete",
   "DeletionPolicy": "Delete",
   "Metadata": {
    "aws:cdk:path": "SocialNetworkCdkStack/EmptyBucketResource-PostsStorage/Default"
   }
  },
  "ImageUploadQueue828B2CCD": {
   "Type": "AWS::SQS::Queue",
   "Properties": {
    "VisibilityTimeout": 300
   },
   "UpdateReplacePolicy": "Delete",
   "DeletionPolicy": "Delete",
   "Metadata": {
    "aws:cdk:path": "SocialNetworkCdkStack/ImageUploadQueue/Resource"
   }
  },
  "ImageUploadQueuePolicy68CD3164": {
   "Type": "AWS::SQS::QueuePolicy",
   "Properties": {
    "PolicyDocument": {
     "Statement": [
      {
       "Action": [
        "sqs:GetQueueAttributes",
        "sqs:GetQueueUrl",
        "sqs:SendMessage"
       ],
       "Condition": {
        "ArnLike": {
         "aws:SourceArn": {
          "Fn::GetAtt": [
           "PostsStorage00A69DB4",
           "Arn"
          ]
         }
        }
       },
       "Effect": "Allow",
       "Principal": {
        "Service": "s3.amazonaws.com"
       },
       "Resource": {
        "Fn::GetAtt": [
         "ImageUploadQueue828B2CCD",
         "Arn"
        ]
       }
      }
     ],
     "Version": "2012-10-17"
    },
    "Queues": [
     {
      "Ref": "ImageUploadQueue828B2CCD"
     }
    ]
   },
   "Metadata": {
    "aws:cdk:path": "SocialNetworkCdkStack/ImageUploadQueue/Policy/Resource"
   }
  },
  "TextractResultQueue3C564822": {
   "Type": "AWS::SQS::Queue",
   "Properties": {
    "VisibilityTimeout": 300
   },
   "UpdateReplacePolicy": "Delete",
   "DeletionPolicy": "Delete",
   "Metadata": {
    "aws:cdk:path": "SocialNetworkCdkStack/TextractResultQueue/Resource"
   }
  },
  "RegistrationFunctionSecurityGroupCD7EC9F0": {
   "Type": "AWS::EC2::SecurityGroup",
   "Properties": {
    "GroupDescription": "Automatic security group for Lambda Function SocialNetworkCdkStackRegistrationFunctionDE74C79D",
    "SecurityGroupEgress": [
     {
      "CidrIp": "0.0.0.0/0",
      "Description": "Allow all outbound traffic by default",
      "IpProtocol": "-1"
     }
    ],
    "VpcId": "vpc-05fc44f3c7d685edb"
   },
   "Metadata": {
    "aws:cdk:path": "SocialNetworkCdkStack/RegistrationFunction/SecurityGroup/Resource"
   }
  },
  "RegistrationFunction288DEDD6": {
   "Type": "AWS::Lambda::Function",
   "Properties": {
    "Code": {
     "S3Bucket": "cdk-hnb659fds-assets-361602391862-us-east-1",
     "S3Key": "517e0ff80f49ec149322a418ec979030dbc5cb270985bff6cd90007fd626e4f6.zip"
    },
    "Environment": {
     "Variables": {
      "TABLE_NAME": {
       "Ref": "Users0A0EEA89"
      },
      "IMAGE_BUCKET_NAME": {
       "Ref": "ImageStorage82E68681"
      }
     }
    },
    "Handler": "index.handler",
    "Role": "arn:aws:iam::361602391862:role/LabRole",
    "Runtime": "nodejs20.x",
    "VpcConfig": {
     "SecurityGroupIds": [
      {
       "Fn::GetAtt": [
        "RegistrationFunctionSecurityGroupCD7EC9F0",
        "GroupId"
       ]
      }
     ],
     "SubnetIds": [
      "subnet-0c2283da7ffab1df2",
      "subnet-0cff5a0113ea24898"
     ]
    }
   },
   "Metadata": {
    "aws:cdk:path": "SocialNetworkCdkStack/RegistrationFunction/Resource",
    "aws:asset:path": "asset.517e0ff80f49ec149322a418ec979030dbc5cb270985bff6cd90007fd626e4f6",
    "aws:asset:is-bundled": false,
    "aws:asset:property": "Code"
   }
  },
  "GetUserByIdFunctionSecurityGroupEFDA41C6": {
   "Type": "AWS::EC2::SecurityGroup",
   "Properties": {
    "GroupDescription": "Automatic security group for Lambda Function SocialNetworkCdkStackGetUserByIdFunction753177A3",
    "SecurityGroupEgress": [
     {
      "CidrIp": "0.0.0.0/0",
      "Description": "Allow all outbound traffic by default",
      "IpProtocol": "-1"
     }
    ],
    "VpcId": "vpc-05fc44f3c7d685edb"
   },
   "Metadata": {
    "aws:cdk:path": "SocialNetworkCdkStack/GetUserByIdFunction/SecurityGroup/Resource"
   }
  },
  "GetUserByIdFunction72B58600": {
   "Type": "AWS::Lambda::Function",
   "Properties": {
    "Code": {
     "S3Bucket": "cdk-hnb659fds-assets-361602391862-us-east-1",
     "S3Key": "7c294b1ed914a37e8eae69e96b6e5df7532f7ae243f26f061eeb4aa5e8f4dd92.zip"
    },
    "Environment": {
     "Variables": {
      "TABLE_NAME": {
       "Ref": "Users0A0EEA89"
      },
      "IMAGE_BUCKET_NAME": {
       "Ref": "ImageStorage82E68681"
      }
     }
    },
    "Handler": "index.handler",
    "Role": "arn:aws:iam::361602391862:role/LabRole",
    "Runtime": "nodejs20.x",
    "VpcConfig": {
     "SecurityGroupIds": [
      {
       "Fn::GetAtt": [
        "GetUserByIdFunctionSecurityGroupEFDA41C6",
        "GroupId"
       ]
      }
     ],
     "SubnetIds": [
      "subnet-0c2283da7ffab1df2",
      "subnet-0cff5a0113ea24898"
     ]
    }
   },
   "Metadata": {
    "aws:cdk:path": "SocialNetworkCdkStack/GetUserByIdFunction/Resource",
    "aws:asset:path": "asset.7c294b1ed914a37e8eae69e96b6e5df7532f7ae243f26f061eeb4aa5e8f4dd92",
    "aws:asset:is-bundled": false,
    "aws:asset:property": "Code"
   }
  },
  "DeleteUserByIdFunctionSecurityGroupDFCD0AF0": {
   "Type": "AWS::EC2::SecurityGroup",
   "Properties": {
    "GroupDescription": "Automatic security group for Lambda Function SocialNetworkCdkStackDeleteUserByIdFunctionEE18DA58",
    "SecurityGroupEgress": [
     {
      "CidrIp": "0.0.0.0/0",
      "Description": "Allow all outbound traffic by default",
      "IpProtocol": "-1"
     }
    ],
    "VpcId": "vpc-05fc44f3c7d685edb"
   },
   "Metadata": {
    "aws:cdk:path": "SocialNetworkCdkStack/DeleteUserByIdFunction/SecurityGroup/Resource"
   }
  },
  "DeleteUserByIdFunctionD207D384": {
   "Type": "AWS::Lambda::Function",
   "Properties": {
    "Code": {
     "S3Bucket": "cdk-hnb659fds-assets-361602391862-us-east-1",
     "S3Key": "b3c616a967e78f51c2d8799890845c3b1e0db4b757122d4e0d78b253d868b982.zip"
    },
    "Environment": {
     "Variables": {
      "TABLE_NAME": {
       "Ref": "Users0A0EEA89"
      },
      "IMAGE_BUCKET_NAME": {
       "Ref": "ImageStorage82E68681"
      }
     }
    },
    "Handler": "index.handler",
    "Role": "arn:aws:iam::361602391862:role/LabRole",
    "Runtime": "nodejs20.x",
    "VpcConfig": {
     "SecurityGroupIds": [
      {
       "Fn::GetAtt": [
        "DeleteUserByIdFunctionSecurityGroupDFCD0AF0",
        "GroupId"
       ]
      }
     ],
     "SubnetIds": [
      "subnet-0c2283da7ffab1df2",
      "subnet-0cff5a0113ea24898"
     ]
    }
   },
   "Metadata": {
    "aws:cdk:path": "SocialNetworkCdkStack/DeleteUserByIdFunction/Resource",
    "aws:asset:path": "asset.b3c616a967e78f51c2d8799890845c3b1e0db4b757122d4e0d78b253d868b982",
    "aws:asset:is-bundled": false,
    "aws:asset:property": "Code"
   }
  },
  "GetPresignUrlForUplodingProfileImageSecurityGroupB0759402": {
   "Type": "AWS::EC2::SecurityGroup",
   "Properties": {
    "GroupDescription": "Automatic security group for Lambda Function SocialNetworkCdkStackGetPresignUrlForUplodingProfileImageAF8CF15D",
    "SecurityGroupEgress": [
     {
      "CidrIp": "0.0.0.0/0",
      "Description": "Allow all outbound traffic by default",
      "IpProtocol": "-1"
     }
    ],
    "VpcId": "vpc-05fc44f3c7d685edb"
   },
   "Metadata": {
    "aws:cdk:path": "SocialNetworkCdkStack/GetPresignUrlForUplodingProfileImage/SecurityGroup/Resource"
   }
  },
  "GetPresignUrlForUplodingProfileImageA0888C75": {
   "Type": "AWS::Lambda::Function",
   "Properties": {
    "Code": {
     "S3Bucket": "cdk-hnb659fds-assets-361602391862-us-east-1",
     "S3Key": "977628d4965b0f3986b45e185f91a036b7c9f0e0cd22e3a357add337944591aa.zip"
    },
    "Environment": {
     "Variables": {
      "TABLE_NAME": {
       "Ref": "Users0A0EEA89"
      },
      "IMAGE_BUCKET_NAME": {
       "Ref": "ImageStorage82E68681"
      }
     }
    },
    "Handler": "index.handler",
    "Role": "arn:aws:iam::361602391862:role/LabRole",
    "Runtime": "nodejs20.x",
    "VpcConfig": {
     "SecurityGroupIds": [
      {
       "Fn::GetAtt": [
        "GetPresignUrlForUplodingProfileImageSecurityGroupB0759402",
        "GroupId"
       ]
      }
     ],
     "SubnetIds": [
      "subnet-0c2283da7ffab1df2",
      "subnet-0cff5a0113ea24898"
     ]
    }
   },
   "Metadata": {
    "aws:cdk:path": "SocialNetworkCdkStack/GetPresignUrlForUplodingProfileImage/Resource",
    "aws:asset:path": "asset.977628d4965b0f3986b45e185f91a036b7c9f0e0cd22e3a357add337944591aa",
    "aws:asset:is-bundled": false,
    "aws:asset:property": "Code"
   }
  },
  "GetPresignUrlForUplodingPostImageSecurityGroup3B8E0C37": {
   "Type": "AWS::EC2::SecurityGroup",
   "Properties": {
    "GroupDescription": "Automatic security group for Lambda Function SocialNetworkCdkStackGetPresignUrlForUplodingPostImage3746C0B6",
    "SecurityGroupEgress": [
     {
      "CidrIp": "0.0.0.0/0",
      "Description": "Allow all outbound traffic by default",
      "IpProtocol": "-1"
     }
    ],
    "VpcId": "vpc-05fc44f3c7d685edb"
   },
   "Metadata": {
    "aws:cdk:path": "SocialNetworkCdkStack/GetPresignUrlForUplodingPostImage/SecurityGroup/Resource"
   }
  },
  "GetPresignUrlForUplodingPostImageC1B733B4": {
   "Type": "AWS::Lambda::Function",
   "Properties": {
    "Code": {
     "S3Bucket": "cdk-hnb659fds-assets-361602391862-us-east-1",
     "S3Key": "1ef08ab257be0145c211f56f4c5e2be9128e5347d35efa61c7b4295841c1ad45.zip"
    },
    "Environment": {
     "Variables": {
      "TABLE_NAME": {
       "Ref": "Users0A0EEA89"
      },
      "IMAGE_BUCKET_NAME": {
       "Ref": "PostsStorage00A69DB4"
      }
     }
    },
    "Handler": "index.handler",
    "Role": "arn:aws:iam::361602391862:role/LabRole",
    "Runtime": "nodejs20.x",
    "VpcConfig": {
     "SecurityGroupIds": [
      {
       "Fn::GetAtt": [
        "GetPresignUrlForUplodingPostImageSecurityGroup3B8E0C37",
        "GroupId"
       ]
      }
     ],
     "SubnetIds": [
      "subnet-0c2283da7ffab1df2",
      "subnet-0cff5a0113ea24898"
     ]
    }
   },
   "Metadata": {
    "aws:cdk:path": "SocialNetworkCdkStack/GetPresignUrlForUplodingPostImage/Resource",
    "aws:asset:path": "asset.1ef08ab257be0145c211f56f4c5e2be9128e5347d35efa61c7b4295841c1ad45",
    "aws:asset:is-bundled": false,
    "aws:asset:property": "Code"
   }
  },
  "UserLoginFunctionSecurityGroup89AC532C": {
   "Type": "AWS::EC2::SecurityGroup",
   "Properties": {
    "GroupDescription": "Automatic security group for Lambda Function SocialNetworkCdkStackUserLoginFunctionFEDDCDF2",
    "SecurityGroupEgress": [
     {
      "CidrIp": "0.0.0.0/0",
      "Description": "Allow all outbound traffic by default",
      "IpProtocol": "-1"
     }
    ],
    "VpcId": "vpc-05fc44f3c7d685edb"
   },
   "Metadata": {
    "aws:cdk:path": "SocialNetworkCdkStack/UserLoginFunction/SecurityGroup/Resource"
   }
  },
  "UserLoginFunctionDCAC8FDB": {
   "Type": "AWS::Lambda::Function",
   "Properties": {
    "Code": {
     "S3Bucket": "cdk-hnb659fds-assets-361602391862-us-east-1",
     "S3Key": "cd9d2809c46b70706ab3f72795a63c0c40c3dde56aa206e6e98f634392f1c5e4.zip"
    },
    "Environment": {
     "Variables": {
      "TABLE_NAME": {
       "Ref": "Users0A0EEA89"
      },
      "IMAGE_BUCKET_NAME": {
       "Ref": "ImageStorage82E68681"
      }
     }
    },
    "Handler": "index.handler",
    "Role": "arn:aws:iam::361602391862:role/LabRole",
    "Runtime": "nodejs20.x",
    "VpcConfig": {
     "SecurityGroupIds": [
      {
       "Fn::GetAtt": [
        "UserLoginFunctionSecurityGroup89AC532C",
        "GroupId"
       ]
      }
     ],
     "SubnetIds": [
      "subnet-0c2283da7ffab1df2",
      "subnet-0cff5a0113ea24898"
     ]
    }
   },
   "Metadata": {
    "aws:cdk:path": "SocialNetworkCdkStack/UserLoginFunction/Resource",
    "aws:asset:path": "asset.cd9d2809c46b70706ab3f72795a63c0c40c3dde56aa206e6e98f634392f1c5e4",
    "aws:asset:is-bundled": false,
    "aws:asset:property": "Code"
   }
  },
  "GetPresignUrlForViewingProfileImageSecurityGroup92999990": {
   "Type": "AWS::EC2::SecurityGroup",
   "Properties": {
    "GroupDescription": "Automatic security group for Lambda Function SocialNetworkCdkStackGetPresignUrlForViewingProfileImageD814FE7F",
    "SecurityGroupEgress": [
     {
      "CidrIp": "0.0.0.0/0",
      "Description": "Allow all outbound traffic by default",
      "IpProtocol": "-1"
     }
    ],
    "VpcId": "vpc-05fc44f3c7d685edb"
   },
   "Metadata": {
    "aws:cdk:path": "SocialNetworkCdkStack/GetPresignUrlForViewingProfileImage/SecurityGroup/Resource"
   }
  },
  "GetPresignUrlForViewingProfileImageD73A632C": {
   "Type": "AWS::Lambda::Function",
   "Properties": {
    "Code": {
     "S3Bucket": "cdk-hnb659fds-assets-361602391862-us-east-1",
     "S3Key": "590776bf4de2df9b2c606910966aa527f1b88c7832c773912567ea1415d4ffcd.zip"
    },
    "Environment": {
     "Variables": {
      "TABLE_NAME": {
       "Ref": "Users0A0EEA89"
      },
      "IMAGE_BUCKET_NAME": {
       "Ref": "ImageStorage82E68681"
      }
     }
    },
    "Handler": "index.handler",
    "Role": "arn:aws:iam::361602391862:role/LabRole",
    "Runtime": "nodejs20.x",
    "VpcConfig": {
     "SecurityGroupIds": [
      {
       "Fn::GetAtt": [
        "GetPresignUrlForViewingProfileImageSecurityGroup92999990",
        "GroupId"
       ]
      }
     ],
     "SubnetIds": [
      "subnet-0c2283da7ffab1df2",
      "subnet-0cff5a0113ea24898"
     ]
    }
   },
   "Metadata": {
    "aws:cdk:path": "SocialNetworkCdkStack/GetPresignUrlForViewingProfileImage/Resource",
    "aws:asset:path": "asset.590776bf4de2df9b2c606910966aa527f1b88c7832c773912567ea1415d4ffcd",
    "aws:asset:is-bundled": false,
    "aws:asset:property": "Code"
   }
  },
  "getStagingAndErrorPostsSecurityGroup062D5D39": {
   "Type": "AWS::EC2::SecurityGroup",
   "Properties": {
    "GroupDescription": "Automatic security group for Lambda Function SocialNetworkCdkStackgetStagingAndErrorPosts1C83A56A",
    "SecurityGroupEgress": [
     {
      "CidrIp": "0.0.0.0/0",
      "Description": "Allow all outbound traffic by default",
      "IpProtocol": "-1"
     }
    ],
    "VpcId": "vpc-05fc44f3c7d685edb"
   },
   "Metadata": {
    "aws:cdk:path": "SocialNetworkCdkStack/getStagingAndErrorPosts/SecurityGroup/Resource"
   }
  },
  "getStagingAndErrorPosts064C0EE9": {
   "Type": "AWS::Lambda::Function",
   "Properties": {
    "Code": {
     "S3Bucket": "cdk-hnb659fds-assets-361602391862-us-east-1",
     "S3Key": "99789bb8dab14a099c2057452ae1d2f1f79a87c060d8258b38600562bf98550b.zip"
    },
    "Environment": {
     "Variables": {
      "TABLE_NAME": {
       "Ref": "Posts868B3EAD"
      },
      "IMAGE_BUCKET_NAME": {
       "Ref": "ImageStorage82E68681"
      }
     }
    },
    "Handler": "index.handler",
    "Role": "arn:aws:iam::361602391862:role/LabRole",
    "Runtime": "nodejs20.x",
    "VpcConfig": {
     "SecurityGroupIds": [
      {
       "Fn::GetAtt": [
        "getStagingAndErrorPostsSecurityGroup062D5D39",
        "GroupId"
       ]
      }
     ],
     "SubnetIds": [
      "subnet-0c2283da7ffab1df2",
      "subnet-0cff5a0113ea24898"
     ]
    }
   },
   "Metadata": {
    "aws:cdk:path": "SocialNetworkCdkStack/getStagingAndErrorPosts/Resource",
    "aws:asset:path": "asset.99789bb8dab14a099c2057452ae1d2f1f79a87c060d8258b38600562bf98550b",
    "aws:asset:is-bundled": false,
    "aws:asset:property": "Code"
   }
  },
  "uploadTextPostSecurityGroup45363C58": {
   "Type": "AWS::EC2::SecurityGroup",
   "Properties": {
    "GroupDescription": "Automatic security group for Lambda Function SocialNetworkCdkStackuploadTextPost8749CE23",
    "SecurityGroupEgress": [
     {
      "CidrIp": "0.0.0.0/0",
      "Description": "Allow all outbound traffic by default",
      "IpProtocol": "-1"
     }
    ],
    "VpcId": "vpc-05fc44f3c7d685edb"
   },
   "Metadata": {
    "aws:cdk:path": "SocialNetworkCdkStack/uploadTextPost/SecurityGroup/Resource"
   }
  },
  "uploadTextPost3E54342F": {
   "Type": "AWS::Lambda::Function",
   "Properties": {
    "Code": {
     "S3Bucket": "cdk-hnb659fds-assets-361602391862-us-east-1",
     "S3Key": "1fc6712be54817eeb02d843b2005730a0f9366161c00fac89399f6e4420bd6f6.zip"
    },
    "Environment": {
     "Variables": {
      "TABLE_NAME": {
       "Ref": "Posts868B3EAD"
      },
      "IMAGE_BUCKET_NAME": {
       "Ref": "ImageStorage82E68681"
      }
     }
    },
    "Handler": "index.handler",
    "Role": "arn:aws:iam::361602391862:role/LabRole",
    "Runtime": "nodejs20.x",
    "VpcConfig": {
     "SecurityGroupIds": [
      {
       "Fn::GetAtt": [
        "uploadTextPostSecurityGroup45363C58",
        "GroupId"
       ]
      }
     ],
     "SubnetIds": [
      "subnet-0c2283da7ffab1df2",
      "subnet-0cff5a0113ea24898"
     ]
    }
   },
   "Metadata": {
    "aws:cdk:path": "SocialNetworkCdkStack/uploadTextPost/Resource",
    "aws:asset:path": "asset.1fc6712be54817eeb02d843b2005730a0f9366161c00fac89399f6e4420bd6f6",
    "aws:asset:is-bundled": false,
    "aws:asset:property": "Code"
   }
  },
  "uploadPostByImageAfterEditSecurityGroup158B9D94": {
   "Type": "AWS::EC2::SecurityGroup",
   "Properties": {
    "GroupDescription": "Automatic security group for Lambda Function SocialNetworkCdkStackuploadPostByImageAfterEditEE1F6340",
    "SecurityGroupEgress": [
     {
      "CidrIp": "0.0.0.0/0",
      "Description": "Allow all outbound traffic by default",
      "IpProtocol": "-1"
     }
    ],
    "VpcId": "vpc-05fc44f3c7d685edb"
   },
   "Metadata": {
    "aws:cdk:path": "SocialNetworkCdkStack/uploadPostByImageAfterEdit/SecurityGroup/Resource"
   }
  },
  "uploadPostByImageAfterEdit7237AC04": {
   "Type": "AWS::Lambda::Function",
   "Properties": {
    "Code": {
     "S3Bucket": "cdk-hnb659fds-assets-361602391862-us-east-1",
     "S3Key": "123c44113a14606ae8f934ab7ebc5a7166392a21f56b5364aad677e0783e85fb.zip"
    },
    "Environment": {
     "Variables": {
      "TABLE_NAME": {
       "Ref": "Posts868B3EAD"
      },
      "IMAGE_BUCKET_NAME": {
       "Ref": "ImageStorage82E68681"
      }
     }
    },
    "Handler": "index.handler",
    "Role": "arn:aws:iam::361602391862:role/LabRole",
    "Runtime": "nodejs20.x",
    "VpcConfig": {
     "SecurityGroupIds": [
      {
       "Fn::GetAtt": [
        "uploadPostByImageAfterEditSecurityGroup158B9D94",
        "GroupId"
       ]
      }
     ],
     "SubnetIds": [
      "subnet-0c2283da7ffab1df2",
      "subnet-0cff5a0113ea24898"
     ]
    }
   },
   "Metadata": {
    "aws:cdk:path": "SocialNetworkCdkStack/uploadPostByImageAfterEdit/Resource",
    "aws:asset:path": "asset.123c44113a14606ae8f934ab7ebc5a7166392a21f56b5364aad677e0783e85fb",
    "aws:asset:is-bundled": false,
    "aws:asset:property": "Code"
   }
  },
  "deletePostSecurityGroup98394CD8": {
   "Type": "AWS::EC2::SecurityGroup",
   "Properties": {
    "GroupDescription": "Automatic security group for Lambda Function SocialNetworkCdkStackdeletePost8B1E4F89",
    "SecurityGroupEgress": [
     {
      "CidrIp": "0.0.0.0/0",
      "Description": "Allow all outbound traffic by default",
      "IpProtocol": "-1"
     }
    ],
    "VpcId": "vpc-05fc44f3c7d685edb"
   },
   "Metadata": {
    "aws:cdk:path": "SocialNetworkCdkStack/deletePost/SecurityGroup/Resource"
   }
  },
  "deletePost14F3F5AA": {
   "Type": "AWS::Lambda::Function",
   "Properties": {
    "Code": {
     "S3Bucket": "cdk-hnb659fds-assets-361602391862-us-east-1",
     "S3Key": "8e92e15f79d76720f047d678b4ec37b901aa613de2e32a117b3e5484434e019e.zip"
    },
    "Environment": {
     "Variables": {
      "TABLE_NAME": {
       "Ref": "Posts868B3EAD"
      },
      "IMAGE_BUCKET_NAME": {
       "Ref": "ImageStorage82E68681"
      }
     }
    },
    "Handler": "index.handler",
    "Role": "arn:aws:iam::361602391862:role/LabRole",
    "Runtime": "nodejs20.x",
    "VpcConfig": {
     "SecurityGroupIds": [
      {
       "Fn::GetAtt": [
        "deletePostSecurityGroup98394CD8",
        "GroupId"
       ]
      }
     ],
     "SubnetIds": [
      "subnet-0c2283da7ffab1df2",
      "subnet-0cff5a0113ea24898"
     ]
    }
   },
   "Metadata": {
    "aws:cdk:path": "SocialNetworkCdkStack/deletePost/Resource",
    "aws:asset:path": "asset.8e92e15f79d76720f047d678b4ec37b901aa613de2e32a117b3e5484434e019e",
    "aws:asset:is-bundled": false,
    "aws:asset:property": "Code"
   }
  },
  "getAllDonePostsSecurityGroupFF3F0A03": {
   "Type": "AWS::EC2::SecurityGroup",
   "Properties": {
    "GroupDescription": "Automatic security group for Lambda Function SocialNetworkCdkStackgetAllDonePosts4533F803",
    "SecurityGroupEgress": [
     {
      "CidrIp": "0.0.0.0/0",
      "Description": "Allow all outbound traffic by default",
      "IpProtocol": "-1"
     }
    ],
    "VpcId": "vpc-05fc44f3c7d685edb"
   },
   "Metadata": {
    "aws:cdk:path": "SocialNetworkCdkStack/getAllDonePosts/SecurityGroup/Resource"
   }
  },
  "getAllDonePosts951614DF": {
   "Type": "AWS::Lambda::Function",
   "Properties": {
    "Code": {
     "S3Bucket": "cdk-hnb659fds-assets-361602391862-us-east-1",
     "S3Key": "b025eaafb025742d95bf3e3ce9dbce0e3fc5d5d2939dea296587f3bdc3b46d93.zip"
    },
    "Environment": {
     "Variables": {
      "TABLE_NAME": {
       "Ref": "Posts868B3EAD"
      },
      "IMAGE_BUCKET_NAME": {
       "Ref": "ImageStorage82E68681"
      }
     }
    },
    "Handler": "index.handler",
    "Role": "arn:aws:iam::361602391862:role/LabRole",
    "Runtime": "nodejs20.x",
    "VpcConfig": {
     "SecurityGroupIds": [
      {
       "Fn::GetAtt": [
        "getAllDonePostsSecurityGroupFF3F0A03",
        "GroupId"
       ]
      }
     ],
     "SubnetIds": [
      "subnet-0c2283da7ffab1df2",
      "subnet-0cff5a0113ea24898"
     ]
    }
   },
   "Metadata": {
    "aws:cdk:path": "SocialNetworkCdkStack/getAllDonePosts/Resource",
    "aws:asset:path": "asset.b025eaafb025742d95bf3e3ce9dbce0e3fc5d5d2939dea296587f3bdc3b46d93",
    "aws:asset:is-bundled": false,
    "aws:asset:property": "Code"
   }
  },
  "SocialNetworkApiACB67AB1": {
   "Type": "AWS::ApiGateway::RestApi",
   "Properties": {
    "Name": "Social Network Service"
   },
   "Metadata": {
    "aws:cdk:path": "SocialNetworkCdkStack/SocialNetworkApi/Resource"
   }
  },
  "SocialNetworkApiDeploymentA74B3F22eebe4089cbb55fe2e1ed185313c01d58": {
   "Type": "AWS::ApiGateway::Deployment",
   "Properties": {
    "Description": "Automatically created by the RestApi construct",
    "RestApiId": {
     "Ref": "SocialNetworkApiACB67AB1"
    }
   },
   "DependsOn": [
    "SocialNetworkApideletePostDELETE0ED0157E",
    "SocialNetworkApideletePostOPTIONSC18E87C8",
    "SocialNetworkApideletePost128C8FD0",
    "SocialNetworkApideleteUserDELETE3193D5E6",
    "SocialNetworkApideleteUserOPTIONS22904A0C",
    "SocialNetworkApideleteUserCFD79263",
    "SocialNetworkApigetAllDonePostsGET30412FAC",
    "SocialNetworkApigetAllDonePostsOPTIONS2B27FEFC",
    "SocialNetworkApigetAllDonePosts05D5E50A",
    "SocialNetworkApigetPresignUrlForUplodingPostImageGET97DC1964",
    "SocialNetworkApigetPresignUrlForUplodingPostImageOPTIONSC92E7565",
    "SocialNetworkApigetPresignUrlForUplodingPostImageD0895DD3",
    "SocialNetworkApigetPresignUrlForUplodingProfileImageGET263376DB",
    "SocialNetworkApigetPresignUrlForUplodingProfileImageOPTIONS7F147F2F",
    "SocialNetworkApigetPresignUrlForUplodingProfileImageECBD9743",
    "SocialNetworkApigetPresignUrlForViewingProfileImageGET053EB249",
    "SocialNetworkApigetPresignUrlForViewingProfileImageOPTIONSE676B236",
    "SocialNetworkApigetPresignUrlForViewingProfileImageAFEF31D8",
    "SocialNetworkApigetStagingAndErrorPostsGET500244AA",
    "SocialNetworkApigetStagingAndErrorPostsOPTIONS7A11429E",
    "SocialNetworkApigetStagingAndErrorPosts67A2A7D9",
    "SocialNetworkApigetUserGETEF6541CD",
    "SocialNetworkApigetUserOPTIONS78535673",
    "SocialNetworkApigetUser1CD8563F",
    "SocialNetworkApiloginOPTIONS9B3B1C4B",
    "SocialNetworkApiloginPOST49B9FF39",
    "SocialNetworkApiloginAB36793F",
    "SocialNetworkApiOPTIONS21B14C08",
    "SocialNetworkApiregistrationOPTIONS680D2FB4",
    "SocialNetworkApiregistrationPOST127123FF",
    "SocialNetworkApiregistration36768A6D",
    "SocialNetworkApiuploadPostByImageAfterEditOPTIONSF393D0D3",
    "SocialNetworkApiuploadPostByImageAfterEditPOSTC814D6C1",
    "SocialNetworkApiuploadPostByImageAfterEditA4C5AAAA",
    "SocialNetworkApiuploadTextPostOPTIONS2284D96E",
    "SocialNetworkApiuploadTextPostPOST60233A94",
    "SocialNetworkApiuploadTextPostE438E460"
   ],
   "Metadata": {
    "aws:cdk:path": "SocialNetworkCdkStack/SocialNetworkApi/Deployment/Resource"
   }
  },
  "SocialNetworkApiDeploymentStageprod4C6E8575": {
   "Type": "AWS::ApiGateway::Stage",
   "Properties": {
    "DeploymentId": {
     "Ref": "SocialNetworkApiDeploymentA74B3F22eebe4089cbb55fe2e1ed185313c01d58"
    },
    "RestApiId": {
     "Ref": "SocialNetworkApiACB67AB1"
    },
    "StageName": "prod"
   },
   "Metadata": {
    "aws:cdk:path": "SocialNetworkCdkStack/SocialNetworkApi/DeploymentStage.prod/Resource"
   }
  },
  "SocialNetworkApiOPTIONS21B14C08": {
   "Type": "AWS::ApiGateway::Method",
   "Properties": {
    "ApiKeyRequired": false,
    "AuthorizationType": "NONE",
    "HttpMethod": "OPTIONS",
    "Integration": {
     "IntegrationResponses": [
      {
       "ResponseParameters": {
        "method.response.header.Access-Control-Allow-Headers": "'Content-Type,X-Amz-Date,Authorization,X-Api-Key,X-Amz-Security-Token,X-Amz-User-Agent'",
        "method.response.header.Access-Control-Allow-Origin": "'*'",
        "method.response.header.Access-Control-Allow-Methods": "'OPTIONS,GET,PUT,POST,DELETE,PATCH,HEAD'"
       },
       "StatusCode": "204"
      }
     ],
     "RequestTemplates": {
      "application/json": "{ statusCode: 200 }"
     },
     "Type": "MOCK"
    },
    "MethodResponses": [
     {
      "ResponseParameters": {
       "method.response.header.Access-Control-Allow-Headers": true,
       "method.response.header.Access-Control-Allow-Origin": true,
       "method.response.header.Access-Control-Allow-Methods": true
      },
      "StatusCode": "204"
     }
    ],
    "ResourceId": {
     "Fn::GetAtt": [
      "SocialNetworkApiACB67AB1",
      "RootResourceId"
     ]
    },
    "RestApiId": {
     "Ref": "SocialNetworkApiACB67AB1"
    }
   },
   "Metadata": {
    "aws:cdk:path": "SocialNetworkCdkStack/SocialNetworkApi/Default/OPTIONS/Resource"
   }
  },
  "SocialNetworkApiregistration36768A6D": {
   "Type": "AWS::ApiGateway::Resource",
   "Properties": {
    "ParentId": {
     "Fn::GetAtt": [
      "SocialNetworkApiACB67AB1",
      "RootResourceId"
     ]
    },
    "PathPart": "registration",
    "RestApiId": {
     "Ref": "SocialNetworkApiACB67AB1"
    }
   },
   "Metadata": {
    "aws:cdk:path": "SocialNetworkCdkStack/SocialNetworkApi/Default/registration/Resource"
   }
  },
  "SocialNetworkApiregistrationOPTIONS680D2FB4": {
   "Type": "AWS::ApiGateway::Method",
   "Properties": {
    "ApiKeyRequired": false,
    "AuthorizationType": "NONE",
    "HttpMethod": "OPTIONS",
    "Integration": {
     "IntegrationResponses": [
      {
       "ResponseParameters": {
        "method.response.header.Access-Control-Allow-Headers": "'Content-Type,X-Amz-Date,Authorization,X-Api-Key,X-Amz-Security-Token,X-Amz-User-Agent'",
        "method.response.header.Access-Control-Allow-Origin": "'*'",
        "method.response.header.Access-Control-Allow-Methods": "'OPTIONS,GET,PUT,POST,DELETE,PATCH,HEAD'"
       },
       "StatusCode": "204"
      }
     ],
     "RequestTemplates": {
      "application/json": "{ statusCode: 200 }"
     },
     "Type": "MOCK"
    },
    "MethodResponses": [
     {
      "ResponseParameters": {
       "method.response.header.Access-Control-Allow-Headers": true,
       "method.response.header.Access-Control-Allow-Origin": true,
       "method.response.header.Access-Control-Allow-Methods": true
      },
      "StatusCode": "204"
     }
    ],
    "ResourceId": {
     "Ref": "SocialNetworkApiregistration36768A6D"
    },
    "RestApiId": {
     "Ref": "SocialNetworkApiACB67AB1"
    }
   },
   "Metadata": {
    "aws:cdk:path": "SocialNetworkCdkStack/SocialNetworkApi/Default/registration/OPTIONS/Resource"
   }
  },
  "SocialNetworkApiregistrationPOSTApiPermissionSocialNetworkCdkStackSocialNetworkApiAC936AE9POSTregistration1B009A35": {
   "Type": "AWS::Lambda::Permission",
   "Properties": {
    "Action": "lambda:InvokeFunction",
    "FunctionName": {
     "Fn::GetAtt": [
      "RegistrationFunction288DEDD6",
      "Arn"
     ]
    },
    "Principal": "apigateway.amazonaws.com",
    "SourceArn": {
     "Fn::Join": [
      "",
      [
       "arn:aws:execute-api:us-east-1:361602391862:",
       {
        "Ref": "SocialNetworkApiACB67AB1"
       },
       "/",
       {
        "Ref": "SocialNetworkApiDeploymentStageprod4C6E8575"
       },
       "/POST/registration"
      ]
     ]
    }
   },
   "Metadata": {
    "aws:cdk:path": "SocialNetworkCdkStack/SocialNetworkApi/Default/registration/POST/ApiPermission.SocialNetworkCdkStackSocialNetworkApiAC936AE9.POST..registration"
   }
  },
  "SocialNetworkApiregistrationPOSTApiPermissionTestSocialNetworkCdkStackSocialNetworkApiAC936AE9POSTregistration7F04FAE1": {
   "Type": "AWS::Lambda::Permission",
   "Properties": {
    "Action": "lambda:InvokeFunction",
    "FunctionName": {
     "Fn::GetAtt": [
      "RegistrationFunction288DEDD6",
      "Arn"
     ]
    },
    "Principal": "apigateway.amazonaws.com",
    "SourceArn": {
     "Fn::Join": [
      "",
      [
       "arn:aws:execute-api:us-east-1:361602391862:",
       {
        "Ref": "SocialNetworkApiACB67AB1"
       },
       "/test-invoke-stage/POST/registration"
      ]
     ]
    }
   },
   "Metadata": {
    "aws:cdk:path": "SocialNetworkCdkStack/SocialNetworkApi/Default/registration/POST/ApiPermission.Test.SocialNetworkCdkStackSocialNetworkApiAC936AE9.POST..registration"
   }
  },
  "SocialNetworkApiregistrationPOST127123FF": {
   "Type": "AWS::ApiGateway::Method",
   "Properties": {
    "AuthorizationType": "NONE",
    "HttpMethod": "POST",
    "Integration": {
     "IntegrationHttpMethod": "POST",
     "Type": "AWS_PROXY",
     "Uri": {
      "Fn::Join": [
       "",
       [
        "arn:aws:apigateway:us-east-1:lambda:path/2015-03-31/functions/",
        {
         "Fn::GetAtt": [
          "RegistrationFunction288DEDD6",
          "Arn"
         ]
        },
        "/invocations"
       ]
      ]
     }
    },
    "MethodResponses": [
     {
      "ResponseParameters": {
       "method.response.header.Access-Control-Allow-Origin": true
      },
      "StatusCode": "200"
     }
    ],
    "ResourceId": {
     "Ref": "SocialNetworkApiregistration36768A6D"
    },
    "RestApiId": {
     "Ref": "SocialNetworkApiACB67AB1"
    }
   },
   "Metadata": {
    "aws:cdk:path": "SocialNetworkCdkStack/SocialNetworkApi/Default/registration/POST/Resource"
   }
  },
  "SocialNetworkApigetUser1CD8563F": {
   "Type": "AWS::ApiGateway::Resource",
   "Properties": {
    "ParentId": {
     "Fn::GetAtt": [
      "SocialNetworkApiACB67AB1",
      "RootResourceId"
     ]
    },
    "PathPart": "getUser",
    "RestApiId": {
     "Ref": "SocialNetworkApiACB67AB1"
    }
   },
   "Metadata": {
    "aws:cdk:path": "SocialNetworkCdkStack/SocialNetworkApi/Default/getUser/Resource"
   }
  },
  "SocialNetworkApigetUserOPTIONS78535673": {
   "Type": "AWS::ApiGateway::Method",
   "Properties": {
    "ApiKeyRequired": false,
    "AuthorizationType": "NONE",
    "HttpMethod": "OPTIONS",
    "Integration": {
     "IntegrationResponses": [
      {
       "ResponseParameters": {
        "method.response.header.Access-Control-Allow-Headers": "'Content-Type,X-Amz-Date,Authorization,X-Api-Key,X-Amz-Security-Token,X-Amz-User-Agent'",
        "method.response.header.Access-Control-Allow-Origin": "'*'",
        "method.response.header.Access-Control-Allow-Methods": "'OPTIONS,GET,PUT,POST,DELETE,PATCH,HEAD'"
       },
       "StatusCode": "204"
      }
     ],
     "RequestTemplates": {
      "application/json": "{ statusCode: 200 }"
     },
     "Type": "MOCK"
    },
    "MethodResponses": [
     {
      "ResponseParameters": {
       "method.response.header.Access-Control-Allow-Headers": true,
       "method.response.header.Access-Control-Allow-Origin": true,
       "method.response.header.Access-Control-Allow-Methods": true
      },
      "StatusCode": "204"
     }
    ],
    "ResourceId": {
     "Ref": "SocialNetworkApigetUser1CD8563F"
    },
    "RestApiId": {
     "Ref": "SocialNetworkApiACB67AB1"
    }
   },
   "Metadata": {
    "aws:cdk:path": "SocialNetworkCdkStack/SocialNetworkApi/Default/getUser/OPTIONS/Resource"
   }
  },
  "SocialNetworkApigetUserGETApiPermissionSocialNetworkCdkStackSocialNetworkApiAC936AE9GETgetUser0B73CDFA": {
   "Type": "AWS::Lambda::Permission",
   "Properties": {
    "Action": "lambda:InvokeFunction",
    "FunctionName": {
     "Fn::GetAtt": [
      "GetUserByIdFunction72B58600",
      "Arn"
     ]
    },
    "Principal": "apigateway.amazonaws.com",
    "SourceArn": {
     "Fn::Join": [
      "",
      [
       "arn:aws:execute-api:us-east-1:361602391862:",
       {
        "Ref": "SocialNetworkApiACB67AB1"
       },
       "/",
       {
        "Ref": "SocialNetworkApiDeploymentStageprod4C6E8575"
       },
       "/GET/getUser"
      ]
     ]
    }
   },
   "Metadata": {
    "aws:cdk:path": "SocialNetworkCdkStack/SocialNetworkApi/Default/getUser/GET/ApiPermission.SocialNetworkCdkStackSocialNetworkApiAC936AE9.GET..getUser"
   }
  },
  "SocialNetworkApigetUserGETApiPermissionTestSocialNetworkCdkStackSocialNetworkApiAC936AE9GETgetUser3AFBE9FB": {
   "Type": "AWS::Lambda::Permission",
   "Properties": {
    "Action": "lambda:InvokeFunction",
    "FunctionName": {
     "Fn::GetAtt": [
      "GetUserByIdFunction72B58600",
      "Arn"
     ]
    },
    "Principal": "apigateway.amazonaws.com",
    "SourceArn": {
     "Fn::Join": [
      "",
      [
       "arn:aws:execute-api:us-east-1:361602391862:",
       {
        "Ref": "SocialNetworkApiACB67AB1"
       },
       "/test-invoke-stage/GET/getUser"
      ]
     ]
    }
   },
   "Metadata": {
    "aws:cdk:path": "SocialNetworkCdkStack/SocialNetworkApi/Default/getUser/GET/ApiPermission.Test.SocialNetworkCdkStackSocialNetworkApiAC936AE9.GET..getUser"
   }
  },
  "SocialNetworkApigetUserGETEF6541CD": {
   "Type": "AWS::ApiGateway::Method",
   "Properties": {
    "AuthorizationType": "NONE",
    "HttpMethod": "GET",
    "Integration": {
     "IntegrationHttpMethod": "POST",
     "Type": "AWS_PROXY",
     "Uri": {
      "Fn::Join": [
       "",
       [
        "arn:aws:apigateway:us-east-1:lambda:path/2015-03-31/functions/",
        {
         "Fn::GetAtt": [
          "GetUserByIdFunction72B58600",
          "Arn"
         ]
        },
        "/invocations"
       ]
      ]
     }
    },
    "MethodResponses": [
     {
      "ResponseParameters": {
       "method.response.header.Access-Control-Allow-Origin": true
      },
      "StatusCode": "200"
     }
    ],
    "ResourceId": {
     "Ref": "SocialNetworkApigetUser1CD8563F"
    },
    "RestApiId": {
     "Ref": "SocialNetworkApiACB67AB1"
    }
   },
   "Metadata": {
    "aws:cdk:path": "SocialNetworkCdkStack/SocialNetworkApi/Default/getUser/GET/Resource"
   }
  },
  "SocialNetworkApideleteUserCFD79263": {
   "Type": "AWS::ApiGateway::Resource",
   "Properties": {
    "ParentId": {
     "Fn::GetAtt": [
      "SocialNetworkApiACB67AB1",
      "RootResourceId"
     ]
    },
    "PathPart": "deleteUser",
    "RestApiId": {
     "Ref": "SocialNetworkApiACB67AB1"
    }
   },
   "Metadata": {
    "aws:cdk:path": "SocialNetworkCdkStack/SocialNetworkApi/Default/deleteUser/Resource"
   }
  },
  "SocialNetworkApideleteUserOPTIONS22904A0C": {
   "Type": "AWS::ApiGateway::Method",
   "Properties": {
    "ApiKeyRequired": false,
    "AuthorizationType": "NONE",
    "HttpMethod": "OPTIONS",
    "Integration": {
     "IntegrationResponses": [
      {
       "ResponseParameters": {
        "method.response.header.Access-Control-Allow-Headers": "'Content-Type,X-Amz-Date,Authorization,X-Api-Key,X-Amz-Security-Token,X-Amz-User-Agent'",
        "method.response.header.Access-Control-Allow-Origin": "'*'",
        "method.response.header.Access-Control-Allow-Methods": "'OPTIONS,GET,PUT,POST,DELETE,PATCH,HEAD'"
       },
       "StatusCode": "204"
      }
     ],
     "RequestTemplates": {
      "application/json": "{ statusCode: 200 }"
     },
     "Type": "MOCK"
    },
    "MethodResponses": [
     {
      "ResponseParameters": {
       "method.response.header.Access-Control-Allow-Headers": true,
       "method.response.header.Access-Control-Allow-Origin": true,
       "method.response.header.Access-Control-Allow-Methods": true
      },
      "StatusCode": "204"
     }
    ],
    "ResourceId": {
     "Ref": "SocialNetworkApideleteUserCFD79263"
    },
    "RestApiId": {
     "Ref": "SocialNetworkApiACB67AB1"
    }
   },
   "Metadata": {
    "aws:cdk:path": "SocialNetworkCdkStack/SocialNetworkApi/Default/deleteUser/OPTIONS/Resource"
   }
  },
  "SocialNetworkApideleteUserDELETEApiPermissionSocialNetworkCdkStackSocialNetworkApiAC936AE9DELETEdeleteUser4FEA608B": {
   "Type": "AWS::Lambda::Permission",
   "Properties": {
    "Action": "lambda:InvokeFunction",
    "FunctionName": {
     "Fn::GetAtt": [
      "DeleteUserByIdFunctionD207D384",
      "Arn"
     ]
    },
    "Principal": "apigateway.amazonaws.com",
    "SourceArn": {
     "Fn::Join": [
      "",
      [
       "arn:aws:execute-api:us-east-1:361602391862:",
       {
        "Ref": "SocialNetworkApiACB67AB1"
       },
       "/",
       {
        "Ref": "SocialNetworkApiDeploymentStageprod4C6E8575"
       },
       "/DELETE/deleteUser"
      ]
     ]
    }
   },
   "Metadata": {
    "aws:cdk:path": "SocialNetworkCdkStack/SocialNetworkApi/Default/deleteUser/DELETE/ApiPermission.SocialNetworkCdkStackSocialNetworkApiAC936AE9.DELETE..deleteUser"
   }
  },
  "SocialNetworkApideleteUserDELETEApiPermissionTestSocialNetworkCdkStackSocialNetworkApiAC936AE9DELETEdeleteUser56021C79": {
   "Type": "AWS::Lambda::Permission",
   "Properties": {
    "Action": "lambda:InvokeFunction",
    "FunctionName": {
     "Fn::GetAtt": [
      "DeleteUserByIdFunctionD207D384",
      "Arn"
     ]
    },
    "Principal": "apigateway.amazonaws.com",
    "SourceArn": {
     "Fn::Join": [
      "",
      [
       "arn:aws:execute-api:us-east-1:361602391862:",
       {
        "Ref": "SocialNetworkApiACB67AB1"
       },
       "/test-invoke-stage/DELETE/deleteUser"
      ]
     ]
    }
   },
   "Metadata": {
    "aws:cdk:path": "SocialNetworkCdkStack/SocialNetworkApi/Default/deleteUser/DELETE/ApiPermission.Test.SocialNetworkCdkStackSocialNetworkApiAC936AE9.DELETE..deleteUser"
   }
  },
  "SocialNetworkApideleteUserDELETE3193D5E6": {
   "Type": "AWS::ApiGateway::Method",
   "Properties": {
    "AuthorizationType": "NONE",
    "HttpMethod": "DELETE",
    "Integration": {
     "IntegrationHttpMethod": "POST",
     "Type": "AWS_PROXY",
     "Uri": {
      "Fn::Join": [
       "",
       [
        "arn:aws:apigateway:us-east-1:lambda:path/2015-03-31/functions/",
        {
         "Fn::GetAtt": [
          "DeleteUserByIdFunctionD207D384",
          "Arn"
         ]
        },
        "/invocations"
       ]
      ]
     }
    },
    "MethodResponses": [
     {
      "ResponseParameters": {
       "method.response.header.Access-Control-Allow-Origin": true
      },
      "StatusCode": "200"
     }
    ],
    "ResourceId": {
     "Ref": "SocialNetworkApideleteUserCFD79263"
    },
    "RestApiId": {
     "Ref": "SocialNetworkApiACB67AB1"
    }
   },
   "Metadata": {
    "aws:cdk:path": "SocialNetworkCdkStack/SocialNetworkApi/Default/deleteUser/DELETE/Resource"
   }
  },
  "SocialNetworkApigetPresignUrlForUplodingProfileImageECBD9743": {
   "Type": "AWS::ApiGateway::Resource",
   "Properties": {
    "ParentId": {
     "Fn::GetAtt": [
      "SocialNetworkApiACB67AB1",
      "RootResourceId"
     ]
    },
    "PathPart": "getPresignUrlForUplodingProfileImage",
    "RestApiId": {
     "Ref": "SocialNetworkApiACB67AB1"
    }
   },
   "Metadata": {
    "aws:cdk:path": "SocialNetworkCdkStack/SocialNetworkApi/Default/getPresignUrlForUplodingProfileImage/Resource"
   }
  },
  "SocialNetworkApigetPresignUrlForUplodingProfileImageOPTIONS7F147F2F": {
   "Type": "AWS::ApiGateway::Method",
   "Properties": {
    "ApiKeyRequired": false,
    "AuthorizationType": "NONE",
    "HttpMethod": "OPTIONS",
    "Integration": {
     "IntegrationResponses": [
      {
       "ResponseParameters": {
        "method.response.header.Access-Control-Allow-Headers": "'Content-Type,X-Amz-Date,Authorization,X-Api-Key,X-Amz-Security-Token,X-Amz-User-Agent'",
        "method.response.header.Access-Control-Allow-Origin": "'*'",
        "method.response.header.Access-Control-Allow-Methods": "'OPTIONS,GET,PUT,POST,DELETE,PATCH,HEAD'"
       },
       "StatusCode": "204"
      }
     ],
     "RequestTemplates": {
      "application/json": "{ statusCode: 200 }"
     },
     "Type": "MOCK"
    },
    "MethodResponses": [
     {
      "ResponseParameters": {
       "method.response.header.Access-Control-Allow-Headers": true,
       "method.response.header.Access-Control-Allow-Origin": true,
       "method.response.header.Access-Control-Allow-Methods": true
      },
      "StatusCode": "204"
     }
    ],
    "ResourceId": {
     "Ref": "SocialNetworkApigetPresignUrlForUplodingProfileImageECBD9743"
    },
    "RestApiId": {
     "Ref": "SocialNetworkApiACB67AB1"
    }
   },
   "Metadata": {
    "aws:cdk:path": "SocialNetworkCdkStack/SocialNetworkApi/Default/getPresignUrlForUplodingProfileImage/OPTIONS/Resource"
   }
  },
  "SocialNetworkApigetPresignUrlForUplodingProfileImageGETApiPermissionSocialNetworkCdkStackSocialNetworkApiAC936AE9GETgetPresignUrlForUplodingProfileImage62CB0C98": {
   "Type": "AWS::Lambda::Permission",
   "Properties": {
    "Action": "lambda:InvokeFunction",
    "FunctionName": {
     "Fn::GetAtt": [
      "GetPresignUrlForUplodingProfileImageA0888C75",
      "Arn"
     ]
    },
    "Principal": "apigateway.amazonaws.com",
    "SourceArn": {
     "Fn::Join": [
      "",
      [
       "arn:aws:execute-api:us-east-1:361602391862:",
       {
        "Ref": "SocialNetworkApiACB67AB1"
       },
       "/",
       {
        "Ref": "SocialNetworkApiDeploymentStageprod4C6E8575"
       },
       "/GET/getPresignUrlForUplodingProfileImage"
      ]
     ]
    }
   },
   "Metadata": {
    "aws:cdk:path": "SocialNetworkCdkStack/SocialNetworkApi/Default/getPresignUrlForUplodingProfileImage/GET/ApiPermission.SocialNetworkCdkStackSocialNetworkApiAC936AE9.GET..getPresignUrlForUplodingProfileImage"
   }
  },
  "SocialNetworkApigetPresignUrlForUplodingProfileImageGETApiPermissionTestSocialNetworkCdkStackSocialNetworkApiAC936AE9GETgetPresignUrlForUplodingProfileImage6D55DC21": {
   "Type": "AWS::Lambda::Permission",
   "Properties": {
    "Action": "lambda:InvokeFunction",
    "FunctionName": {
     "Fn::GetAtt": [
      "GetPresignUrlForUplodingProfileImageA0888C75",
      "Arn"
     ]
    },
    "Principal": "apigateway.amazonaws.com",
    "SourceArn": {
     "Fn::Join": [
      "",
      [
       "arn:aws:execute-api:us-east-1:361602391862:",
       {
        "Ref": "SocialNetworkApiACB67AB1"
       },
       "/test-invoke-stage/GET/getPresignUrlForUplodingProfileImage"
      ]
     ]
    }
   },
   "Metadata": {
    "aws:cdk:path": "SocialNetworkCdkStack/SocialNetworkApi/Default/getPresignUrlForUplodingProfileImage/GET/ApiPermission.Test.SocialNetworkCdkStackSocialNetworkApiAC936AE9.GET..getPresignUrlForUplodingProfileImage"
   }
  },
  "SocialNetworkApigetPresignUrlForUplodingProfileImageGET263376DB": {
   "Type": "AWS::ApiGateway::Method",
   "Properties": {
    "AuthorizationType": "NONE",
    "HttpMethod": "GET",
    "Integration": {
     "IntegrationHttpMethod": "POST",
     "Type": "AWS_PROXY",
     "Uri": {
      "Fn::Join": [
       "",
       [
        "arn:aws:apigateway:us-east-1:lambda:path/2015-03-31/functions/",
        {
         "Fn::GetAtt": [
          "GetPresignUrlForUplodingProfileImageA0888C75",
          "Arn"
         ]
        },
        "/invocations"
       ]
      ]
     }
    },
    "MethodResponses": [
     {
      "ResponseParameters": {
       "method.response.header.Access-Control-Allow-Origin": true
      },
      "StatusCode": "200"
     }
    ],
    "ResourceId": {
     "Ref": "SocialNetworkApigetPresignUrlForUplodingProfileImageECBD9743"
    },
    "RestApiId": {
     "Ref": "SocialNetworkApiACB67AB1"
    }
   },
   "Metadata": {
    "aws:cdk:path": "SocialNetworkCdkStack/SocialNetworkApi/Default/getPresignUrlForUplodingProfileImage/GET/Resource"
   }
  },
  "SocialNetworkApigetPresignUrlForUplodingPostImageD0895DD3": {
   "Type": "AWS::ApiGateway::Resource",
   "Properties": {
    "ParentId": {
     "Fn::GetAtt": [
      "SocialNetworkApiACB67AB1",
      "RootResourceId"
     ]
    },
    "PathPart": "getPresignUrlForUplodingPostImage",
    "RestApiId": {
     "Ref": "SocialNetworkApiACB67AB1"
    }
   },
   "Metadata": {
    "aws:cdk:path": "SocialNetworkCdkStack/SocialNetworkApi/Default/getPresignUrlForUplodingPostImage/Resource"
   }
  },
  "SocialNetworkApigetPresignUrlForUplodingPostImageOPTIONSC92E7565": {
   "Type": "AWS::ApiGateway::Method",
   "Properties": {
    "ApiKeyRequired": false,
    "AuthorizationType": "NONE",
    "HttpMethod": "OPTIONS",
    "Integration": {
     "IntegrationResponses": [
      {
       "ResponseParameters": {
        "method.response.header.Access-Control-Allow-Headers": "'Content-Type,X-Amz-Date,Authorization,X-Api-Key,X-Amz-Security-Token,X-Amz-User-Agent'",
        "method.response.header.Access-Control-Allow-Origin": "'*'",
        "method.response.header.Access-Control-Allow-Methods": "'OPTIONS,GET,PUT,POST,DELETE,PATCH,HEAD'"
       },
       "StatusCode": "204"
      }
     ],
     "RequestTemplates": {
      "application/json": "{ statusCode: 200 }"
     },
     "Type": "MOCK"
    },
    "MethodResponses": [
     {
      "ResponseParameters": {
       "method.response.header.Access-Control-Allow-Headers": true,
       "method.response.header.Access-Control-Allow-Origin": true,
       "method.response.header.Access-Control-Allow-Methods": true
      },
      "StatusCode": "204"
     }
    ],
    "ResourceId": {
     "Ref": "SocialNetworkApigetPresignUrlForUplodingPostImageD0895DD3"
    },
    "RestApiId": {
     "Ref": "SocialNetworkApiACB67AB1"
    }
   },
   "Metadata": {
    "aws:cdk:path": "SocialNetworkCdkStack/SocialNetworkApi/Default/getPresignUrlForUplodingPostImage/OPTIONS/Resource"
   }
  },
  "SocialNetworkApigetPresignUrlForUplodingPostImageGETApiPermissionSocialNetworkCdkStackSocialNetworkApiAC936AE9GETgetPresignUrlForUplodingPostImage793BC119": {
   "Type": "AWS::Lambda::Permission",
   "Properties": {
    "Action": "lambda:InvokeFunction",
    "FunctionName": {
     "Fn::GetAtt": [
      "GetPresignUrlForUplodingPostImageC1B733B4",
      "Arn"
     ]
    },
    "Principal": "apigateway.amazonaws.com",
    "SourceArn": {
     "Fn::Join": [
      "",
      [
       "arn:aws:execute-api:us-east-1:361602391862:",
       {
        "Ref": "SocialNetworkApiACB67AB1"
       },
       "/",
       {
        "Ref": "SocialNetworkApiDeploymentStageprod4C6E8575"
       },
       "/GET/getPresignUrlForUplodingPostImage"
      ]
     ]
    }
   },
   "Metadata": {
    "aws:cdk:path": "SocialNetworkCdkStack/SocialNetworkApi/Default/getPresignUrlForUplodingPostImage/GET/ApiPermission.SocialNetworkCdkStackSocialNetworkApiAC936AE9.GET..getPresignUrlForUplodingPostImage"
   }
  },
  "SocialNetworkApigetPresignUrlForUplodingPostImageGETApiPermissionTestSocialNetworkCdkStackSocialNetworkApiAC936AE9GETgetPresignUrlForUplodingPostImage85BD1A3D": {
   "Type": "AWS::Lambda::Permission",
   "Properties": {
    "Action": "lambda:InvokeFunction",
    "FunctionName": {
     "Fn::GetAtt": [
      "GetPresignUrlForUplodingPostImageC1B733B4",
      "Arn"
     ]
    },
    "Principal": "apigateway.amazonaws.com",
    "SourceArn": {
     "Fn::Join": [
      "",
      [
       "arn:aws:execute-api:us-east-1:361602391862:",
       {
        "Ref": "SocialNetworkApiACB67AB1"
       },
       "/test-invoke-stage/GET/getPresignUrlForUplodingPostImage"
      ]
     ]
    }
   },
   "Metadata": {
    "aws:cdk:path": "SocialNetworkCdkStack/SocialNetworkApi/Default/getPresignUrlForUplodingPostImage/GET/ApiPermission.Test.SocialNetworkCdkStackSocialNetworkApiAC936AE9.GET..getPresignUrlForUplodingPostImage"
   }
  },
  "SocialNetworkApigetPresignUrlForUplodingPostImageGET97DC1964": {
   "Type": "AWS::ApiGateway::Method",
   "Properties": {
    "AuthorizationType": "NONE",
    "HttpMethod": "GET",
    "Integration": {
     "IntegrationHttpMethod": "POST",
     "Type": "AWS_PROXY",
     "Uri": {
      "Fn::Join": [
       "",
       [
        "arn:aws:apigateway:us-east-1:lambda:path/2015-03-31/functions/",
        {
         "Fn::GetAtt": [
          "GetPresignUrlForUplodingPostImageC1B733B4",
          "Arn"
         ]
        },
        "/invocations"
       ]
      ]
     }
    },
    "MethodResponses": [
     {
      "ResponseParameters": {
       "method.response.header.Access-Control-Allow-Origin": true
      },
      "StatusCode": "200"
     }
    ],
    "ResourceId": {
     "Ref": "SocialNetworkApigetPresignUrlForUplodingPostImageD0895DD3"
    },
    "RestApiId": {
     "Ref": "SocialNetworkApiACB67AB1"
    }
   },
   "Metadata": {
    "aws:cdk:path": "SocialNetworkCdkStack/SocialNetworkApi/Default/getPresignUrlForUplodingPostImage/GET/Resource"
   }
  },
  "SocialNetworkApiloginAB36793F": {
   "Type": "AWS::ApiGateway::Resource",
   "Properties": {
    "ParentId": {
     "Fn::GetAtt": [
      "SocialNetworkApiACB67AB1",
      "RootResourceId"
     ]
    },
    "PathPart": "login",
    "RestApiId": {
     "Ref": "SocialNetworkApiACB67AB1"
    }
   },
   "Metadata": {
    "aws:cdk:path": "SocialNetworkCdkStack/SocialNetworkApi/Default/login/Resource"
   }
  },
  "SocialNetworkApiloginOPTIONS9B3B1C4B": {
   "Type": "AWS::ApiGateway::Method",
   "Properties": {
    "ApiKeyRequired": false,
    "AuthorizationType": "NONE",
    "HttpMethod": "OPTIONS",
    "Integration": {
     "IntegrationResponses": [
      {
       "ResponseParameters": {
        "method.response.header.Access-Control-Allow-Headers": "'Content-Type,X-Amz-Date,Authorization,X-Api-Key,X-Amz-Security-Token,X-Amz-User-Agent'",
        "method.response.header.Access-Control-Allow-Origin": "'*'",
        "method.response.header.Access-Control-Allow-Methods": "'OPTIONS,GET,PUT,POST,DELETE,PATCH,HEAD'"
       },
       "StatusCode": "204"
      }
     ],
     "RequestTemplates": {
      "application/json": "{ statusCode: 200 }"
     },
     "Type": "MOCK"
    },
    "MethodResponses": [
     {
      "ResponseParameters": {
       "method.response.header.Access-Control-Allow-Headers": true,
       "method.response.header.Access-Control-Allow-Origin": true,
       "method.response.header.Access-Control-Allow-Methods": true
      },
      "StatusCode": "204"
     }
    ],
    "ResourceId": {
     "Ref": "SocialNetworkApiloginAB36793F"
    },
    "RestApiId": {
     "Ref": "SocialNetworkApiACB67AB1"
    }
   },
   "Metadata": {
    "aws:cdk:path": "SocialNetworkCdkStack/SocialNetworkApi/Default/login/OPTIONS/Resource"
   }
  },
  "SocialNetworkApiloginPOSTApiPermissionSocialNetworkCdkStackSocialNetworkApiAC936AE9POSTlogin1E28A6F3": {
   "Type": "AWS::Lambda::Permission",
   "Properties": {
    "Action": "lambda:InvokeFunction",
    "FunctionName": {
     "Fn::GetAtt": [
      "UserLoginFunctionDCAC8FDB",
      "Arn"
     ]
    },
    "Principal": "apigateway.amazonaws.com",
    "SourceArn": {
     "Fn::Join": [
      "",
      [
       "arn:aws:execute-api:us-east-1:361602391862:",
       {
        "Ref": "SocialNetworkApiACB67AB1"
       },
       "/",
       {
        "Ref": "SocialNetworkApiDeploymentStageprod4C6E8575"
       },
       "/POST/login"
      ]
     ]
    }
   },
   "Metadata": {
    "aws:cdk:path": "SocialNetworkCdkStack/SocialNetworkApi/Default/login/POST/ApiPermission.SocialNetworkCdkStackSocialNetworkApiAC936AE9.POST..login"
   }
  },
  "SocialNetworkApiloginPOSTApiPermissionTestSocialNetworkCdkStackSocialNetworkApiAC936AE9POSTloginBDE5CF45": {
   "Type": "AWS::Lambda::Permission",
   "Properties": {
    "Action": "lambda:InvokeFunction",
    "FunctionName": {
     "Fn::GetAtt": [
      "UserLoginFunctionDCAC8FDB",
      "Arn"
     ]
    },
    "Principal": "apigateway.amazonaws.com",
    "SourceArn": {
     "Fn::Join": [
      "",
      [
       "arn:aws:execute-api:us-east-1:361602391862:",
       {
        "Ref": "SocialNetworkApiACB67AB1"
       },
       "/test-invoke-stage/POST/login"
      ]
     ]
    }
   },
   "Metadata": {
    "aws:cdk:path": "SocialNetworkCdkStack/SocialNetworkApi/Default/login/POST/ApiPermission.Test.SocialNetworkCdkStackSocialNetworkApiAC936AE9.POST..login"
   }
  },
  "SocialNetworkApiloginPOST49B9FF39": {
   "Type": "AWS::ApiGateway::Method",
   "Properties": {
    "AuthorizationType": "NONE",
    "HttpMethod": "POST",
    "Integration": {
     "IntegrationHttpMethod": "POST",
     "Type": "AWS_PROXY",
     "Uri": {
      "Fn::Join": [
       "",
       [
        "arn:aws:apigateway:us-east-1:lambda:path/2015-03-31/functions/",
        {
         "Fn::GetAtt": [
          "UserLoginFunctionDCAC8FDB",
          "Arn"
         ]
        },
        "/invocations"
       ]
      ]
     }
    },
    "MethodResponses": [
     {
      "ResponseParameters": {
       "method.response.header.Access-Control-Allow-Origin": true
      },
      "StatusCode": "200"
     }
    ],
    "ResourceId": {
     "Ref": "SocialNetworkApiloginAB36793F"
    },
    "RestApiId": {
     "Ref": "SocialNetworkApiACB67AB1"
    }
   },
   "Metadata": {
    "aws:cdk:path": "SocialNetworkCdkStack/SocialNetworkApi/Default/login/POST/Resource"
   }
  },
  "SocialNetworkApigetPresignUrlForViewingProfileImageAFEF31D8": {
   "Type": "AWS::ApiGateway::Resource",
   "Properties": {
    "ParentId": {
     "Fn::GetAtt": [
      "SocialNetworkApiACB67AB1",
      "RootResourceId"
     ]
    },
    "PathPart": "getPresignUrlForViewingProfileImage",
    "RestApiId": {
     "Ref": "SocialNetworkApiACB67AB1"
    }
   },
   "Metadata": {
    "aws:cdk:path": "SocialNetworkCdkStack/SocialNetworkApi/Default/getPresignUrlForViewingProfileImage/Resource"
   }
  },
  "SocialNetworkApigetPresignUrlForViewingProfileImageOPTIONSE676B236": {
   "Type": "AWS::ApiGateway::Method",
   "Properties": {
    "ApiKeyRequired": false,
    "AuthorizationType": "NONE",
    "HttpMethod": "OPTIONS",
    "Integration": {
     "IntegrationResponses": [
      {
       "ResponseParameters": {
        "method.response.header.Access-Control-Allow-Headers": "'Content-Type,X-Amz-Date,Authorization,X-Api-Key,X-Amz-Security-Token,X-Amz-User-Agent'",
        "method.response.header.Access-Control-Allow-Origin": "'*'",
        "method.response.header.Access-Control-Allow-Methods": "'OPTIONS,GET,PUT,POST,DELETE,PATCH,HEAD'"
       },
       "StatusCode": "204"
      }
     ],
     "RequestTemplates": {
      "application/json": "{ statusCode: 200 }"
     },
     "Type": "MOCK"
    },
    "MethodResponses": [
     {
      "ResponseParameters": {
       "method.response.header.Access-Control-Allow-Headers": true,
       "method.response.header.Access-Control-Allow-Origin": true,
       "method.response.header.Access-Control-Allow-Methods": true
      },
      "StatusCode": "204"
     }
    ],
    "ResourceId": {
     "Ref": "SocialNetworkApigetPresignUrlForViewingProfileImageAFEF31D8"
    },
    "RestApiId": {
     "Ref": "SocialNetworkApiACB67AB1"
    }
   },
   "Metadata": {
    "aws:cdk:path": "SocialNetworkCdkStack/SocialNetworkApi/Default/getPresignUrlForViewingProfileImage/OPTIONS/Resource"
   }
  },
  "SocialNetworkApigetPresignUrlForViewingProfileImageGETApiPermissionSocialNetworkCdkStackSocialNetworkApiAC936AE9GETgetPresignUrlForViewingProfileImage99580DA8": {
   "Type": "AWS::Lambda::Permission",
   "Properties": {
    "Action": "lambda:InvokeFunction",
    "FunctionName": {
     "Fn::GetAtt": [
      "GetPresignUrlForViewingProfileImageD73A632C",
      "Arn"
     ]
    },
    "Principal": "apigateway.amazonaws.com",
    "SourceArn": {
     "Fn::Join": [
      "",
      [
       "arn:aws:execute-api:us-east-1:361602391862:",
       {
        "Ref": "SocialNetworkApiACB67AB1"
       },
       "/",
       {
        "Ref": "SocialNetworkApiDeploymentStageprod4C6E8575"
       },
       "/GET/getPresignUrlForViewingProfileImage"
      ]
     ]
    }
   },
   "Metadata": {
    "aws:cdk:path": "SocialNetworkCdkStack/SocialNetworkApi/Default/getPresignUrlForViewingProfileImage/GET/ApiPermission.SocialNetworkCdkStackSocialNetworkApiAC936AE9.GET..getPresignUrlForViewingProfileImage"
   }
  },
  "SocialNetworkApigetPresignUrlForViewingProfileImageGETApiPermissionTestSocialNetworkCdkStackSocialNetworkApiAC936AE9GETgetPresignUrlForViewingProfileImage30151AFB": {
   "Type": "AWS::Lambda::Permission",
   "Properties": {
    "Action": "lambda:InvokeFunction",
    "FunctionName": {
     "Fn::GetAtt": [
      "GetPresignUrlForViewingProfileImageD73A632C",
      "Arn"
     ]
    },
    "Principal": "apigateway.amazonaws.com",
    "SourceArn": {
     "Fn::Join": [
      "",
      [
       "arn:aws:execute-api:us-east-1:361602391862:",
       {
        "Ref": "SocialNetworkApiACB67AB1"
       },
       "/test-invoke-stage/GET/getPresignUrlForViewingProfileImage"
      ]
     ]
    }
   },
   "Metadata": {
    "aws:cdk:path": "SocialNetworkCdkStack/SocialNetworkApi/Default/getPresignUrlForViewingProfileImage/GET/ApiPermission.Test.SocialNetworkCdkStackSocialNetworkApiAC936AE9.GET..getPresignUrlForViewingProfileImage"
   }
  },
  "SocialNetworkApigetPresignUrlForViewingProfileImageGET053EB249": {
   "Type": "AWS::ApiGateway::Method",
   "Properties": {
    "AuthorizationType": "NONE",
    "HttpMethod": "GET",
    "Integration": {
     "IntegrationHttpMethod": "POST",
     "Type": "AWS_PROXY",
     "Uri": {
      "Fn::Join": [
       "",
       [
        "arn:aws:apigateway:us-east-1:lambda:path/2015-03-31/functions/",
        {
         "Fn::GetAtt": [
          "GetPresignUrlForViewingProfileImageD73A632C",
          "Arn"
         ]
        },
        "/invocations"
       ]
      ]
     }
    },
    "MethodResponses": [
     {
      "ResponseParameters": {
       "method.response.header.Access-Control-Allow-Origin": true
      },
      "StatusCode": "200"
     }
    ],
    "ResourceId": {
     "Ref": "SocialNetworkApigetPresignUrlForViewingProfileImageAFEF31D8"
    },
    "RestApiId": {
     "Ref": "SocialNetworkApiACB67AB1"
    }
   },
   "Metadata": {
    "aws:cdk:path": "SocialNetworkCdkStack/SocialNetworkApi/Default/getPresignUrlForViewingProfileImage/GET/Resource"
   }
  },
  "SocialNetworkApigetStagingAndErrorPosts67A2A7D9": {
   "Type": "AWS::ApiGateway::Resource",
   "Properties": {
    "ParentId": {
     "Fn::GetAtt": [
      "SocialNetworkApiACB67AB1",
      "RootResourceId"
     ]
    },
    "PathPart": "getStagingAndErrorPosts",
    "RestApiId": {
     "Ref": "SocialNetworkApiACB67AB1"
    }
   },
   "Metadata": {
    "aws:cdk:path": "SocialNetworkCdkStack/SocialNetworkApi/Default/getStagingAndErrorPosts/Resource"
   }
  },
  "SocialNetworkApigetStagingAndErrorPostsOPTIONS7A11429E": {
   "Type": "AWS::ApiGateway::Method",
   "Properties": {
    "ApiKeyRequired": false,
    "AuthorizationType": "NONE",
    "HttpMethod": "OPTIONS",
    "Integration": {
     "IntegrationResponses": [
      {
       "ResponseParameters": {
        "method.response.header.Access-Control-Allow-Headers": "'Content-Type,X-Amz-Date,Authorization,X-Api-Key,X-Amz-Security-Token,X-Amz-User-Agent'",
        "method.response.header.Access-Control-Allow-Origin": "'*'",
        "method.response.header.Access-Control-Allow-Methods": "'OPTIONS,GET,PUT,POST,DELETE,PATCH,HEAD'"
       },
       "StatusCode": "204"
      }
     ],
     "RequestTemplates": {
      "application/json": "{ statusCode: 200 }"
     },
     "Type": "MOCK"
    },
    "MethodResponses": [
     {
      "ResponseParameters": {
       "method.response.header.Access-Control-Allow-Headers": true,
       "method.response.header.Access-Control-Allow-Origin": true,
       "method.response.header.Access-Control-Allow-Methods": true
      },
      "StatusCode": "204"
     }
    ],
    "ResourceId": {
     "Ref": "SocialNetworkApigetStagingAndErrorPosts67A2A7D9"
    },
    "RestApiId": {
     "Ref": "SocialNetworkApiACB67AB1"
    }
   },
   "Metadata": {
    "aws:cdk:path": "SocialNetworkCdkStack/SocialNetworkApi/Default/getStagingAndErrorPosts/OPTIONS/Resource"
   }
  },
  "SocialNetworkApigetStagingAndErrorPostsGETApiPermissionSocialNetworkCdkStackSocialNetworkApiAC936AE9GETgetStagingAndErrorPosts21E33CB1": {
   "Type": "AWS::Lambda::Permission",
   "Properties": {
    "Action": "lambda:InvokeFunction",
    "FunctionName": {
     "Fn::GetAtt": [
      "getStagingAndErrorPosts064C0EE9",
      "Arn"
     ]
    },
    "Principal": "apigateway.amazonaws.com",
    "SourceArn": {
     "Fn::Join": [
      "",
      [
       "arn:aws:execute-api:us-east-1:361602391862:",
       {
        "Ref": "SocialNetworkApiACB67AB1"
       },
       "/",
       {
        "Ref": "SocialNetworkApiDeploymentStageprod4C6E8575"
       },
       "/GET/getStagingAndErrorPosts"
      ]
     ]
    }
   },
   "Metadata": {
    "aws:cdk:path": "SocialNetworkCdkStack/SocialNetworkApi/Default/getStagingAndErrorPosts/GET/ApiPermission.SocialNetworkCdkStackSocialNetworkApiAC936AE9.GET..getStagingAndErrorPosts"
   }
  },
  "SocialNetworkApigetStagingAndErrorPostsGETApiPermissionTestSocialNetworkCdkStackSocialNetworkApiAC936AE9GETgetStagingAndErrorPosts7B3D1B5C": {
   "Type": "AWS::Lambda::Permission",
   "Properties": {
    "Action": "lambda:InvokeFunction",
    "FunctionName": {
     "Fn::GetAtt": [
      "getStagingAndErrorPosts064C0EE9",
      "Arn"
     ]
    },
    "Principal": "apigateway.amazonaws.com",
    "SourceArn": {
     "Fn::Join": [
      "",
      [
       "arn:aws:execute-api:us-east-1:361602391862:",
       {
        "Ref": "SocialNetworkApiACB67AB1"
       },
       "/test-invoke-stage/GET/getStagingAndErrorPosts"
      ]
     ]
    }
   },
   "Metadata": {
    "aws:cdk:path": "SocialNetworkCdkStack/SocialNetworkApi/Default/getStagingAndErrorPosts/GET/ApiPermission.Test.SocialNetworkCdkStackSocialNetworkApiAC936AE9.GET..getStagingAndErrorPosts"
   }
  },
  "SocialNetworkApigetStagingAndErrorPostsGET500244AA": {
   "Type": "AWS::ApiGateway::Method",
   "Properties": {
    "AuthorizationType": "NONE",
    "HttpMethod": "GET",
    "Integration": {
     "IntegrationHttpMethod": "POST",
     "Type": "AWS_PROXY",
     "Uri": {
      "Fn::Join": [
       "",
       [
        "arn:aws:apigateway:us-east-1:lambda:path/2015-03-31/functions/",
        {
         "Fn::GetAtt": [
          "getStagingAndErrorPosts064C0EE9",
          "Arn"
         ]
        },
        "/invocations"
       ]
      ]
     }
    },
    "MethodResponses": [
     {
      "ResponseParameters": {
       "method.response.header.Access-Control-Allow-Origin": true
      },
      "StatusCode": "200"
     }
    ],
    "ResourceId": {
     "Ref": "SocialNetworkApigetStagingAndErrorPosts67A2A7D9"
    },
    "RestApiId": {
     "Ref": "SocialNetworkApiACB67AB1"
    }
   },
   "Metadata": {
    "aws:cdk:path": "SocialNetworkCdkStack/SocialNetworkApi/Default/getStagingAndErrorPosts/GET/Resource"
   }
  },
  "SocialNetworkApiuploadTextPostE438E460": {
   "Type": "AWS::ApiGateway::Resource",
   "Properties": {
    "ParentId": {
     "Fn::GetAtt": [
      "SocialNetworkApiACB67AB1",
      "RootResourceId"
     ]
    },
    "PathPart": "uploadTextPost",
    "RestApiId": {
     "Ref": "SocialNetworkApiACB67AB1"
    }
   },
   "Metadata": {
    "aws:cdk:path": "SocialNetworkCdkStack/SocialNetworkApi/Default/uploadTextPost/Resource"
   }
  },
  "SocialNetworkApiuploadTextPostOPTIONS2284D96E": {
   "Type": "AWS::ApiGateway::Method",
   "Properties": {
    "ApiKeyRequired": false,
    "AuthorizationType": "NONE",
    "HttpMethod": "OPTIONS",
    "Integration": {
     "IntegrationResponses": [
      {
       "ResponseParameters": {
        "method.response.header.Access-Control-Allow-Headers": "'Content-Type,X-Amz-Date,Authorization,X-Api-Key,X-Amz-Security-Token,X-Amz-User-Agent'",
        "method.response.header.Access-Control-Allow-Origin": "'*'",
        "method.response.header.Access-Control-Allow-Methods": "'OPTIONS,GET,PUT,POST,DELETE,PATCH,HEAD'"
       },
       "StatusCode": "204"
      }
     ],
     "RequestTemplates": {
      "application/json": "{ statusCode: 200 }"
     },
     "Type": "MOCK"
    },
    "MethodResponses": [
     {
      "ResponseParameters": {
       "method.response.header.Access-Control-Allow-Headers": true,
       "method.response.header.Access-Control-Allow-Origin": true,
       "method.response.header.Access-Control-Allow-Methods": true
      },
      "StatusCode": "204"
     }
    ],
    "ResourceId": {
     "Ref": "SocialNetworkApiuploadTextPostE438E460"
    },
    "RestApiId": {
     "Ref": "SocialNetworkApiACB67AB1"
    }
   },
   "Metadata": {
    "aws:cdk:path": "SocialNetworkCdkStack/SocialNetworkApi/Default/uploadTextPost/OPTIONS/Resource"
   }
  },
  "SocialNetworkApiuploadTextPostPOSTApiPermissionSocialNetworkCdkStackSocialNetworkApiAC936AE9POSTuploadTextPostD303A824": {
   "Type": "AWS::Lambda::Permission",
   "Properties": {
    "Action": "lambda:InvokeFunction",
    "FunctionName": {
     "Fn::GetAtt": [
      "uploadTextPost3E54342F",
      "Arn"
     ]
    },
    "Principal": "apigateway.amazonaws.com",
    "SourceArn": {
     "Fn::Join": [
      "",
      [
       "arn:aws:execute-api:us-east-1:361602391862:",
       {
        "Ref": "SocialNetworkApiACB67AB1"
       },
       "/",
       {
        "Ref": "SocialNetworkApiDeploymentStageprod4C6E8575"
       },
       "/POST/uploadTextPost"
      ]
     ]
    }
   },
   "Metadata": {
    "aws:cdk:path": "SocialNetworkCdkStack/SocialNetworkApi/Default/uploadTextPost/POST/ApiPermission.SocialNetworkCdkStackSocialNetworkApiAC936AE9.POST..uploadTextPost"
   }
  },
  "SocialNetworkApiuploadTextPostPOSTApiPermissionTestSocialNetworkCdkStackSocialNetworkApiAC936AE9POSTuploadTextPost62A87971": {
   "Type": "AWS::Lambda::Permission",
   "Properties": {
    "Action": "lambda:InvokeFunction",
    "FunctionName": {
     "Fn::GetAtt": [
      "uploadTextPost3E54342F",
      "Arn"
     ]
    },
    "Principal": "apigateway.amazonaws.com",
    "SourceArn": {
     "Fn::Join": [
      "",
      [
       "arn:aws:execute-api:us-east-1:361602391862:",
       {
        "Ref": "SocialNetworkApiACB67AB1"
       },
       "/test-invoke-stage/POST/uploadTextPost"
      ]
     ]
    }
   },
   "Metadata": {
    "aws:cdk:path": "SocialNetworkCdkStack/SocialNetworkApi/Default/uploadTextPost/POST/ApiPermission.Test.SocialNetworkCdkStackSocialNetworkApiAC936AE9.POST..uploadTextPost"
   }
  },
  "SocialNetworkApiuploadTextPostPOST60233A94": {
   "Type": "AWS::ApiGateway::Method",
   "Properties": {
    "AuthorizationType": "NONE",
    "HttpMethod": "POST",
    "Integration": {
     "IntegrationHttpMethod": "POST",
     "Type": "AWS_PROXY",
     "Uri": {
      "Fn::Join": [
       "",
       [
        "arn:aws:apigateway:us-east-1:lambda:path/2015-03-31/functions/",
        {
         "Fn::GetAtt": [
          "uploadTextPost3E54342F",
          "Arn"
         ]
        },
        "/invocations"
       ]
      ]
     }
    },
    "MethodResponses": [
     {
      "ResponseParameters": {
       "method.response.header.Access-Control-Allow-Origin": true
      },
      "StatusCode": "200"
     }
    ],
    "ResourceId": {
     "Ref": "SocialNetworkApiuploadTextPostE438E460"
    },
    "RestApiId": {
     "Ref": "SocialNetworkApiACB67AB1"
    }
   },
   "Metadata": {
    "aws:cdk:path": "SocialNetworkCdkStack/SocialNetworkApi/Default/uploadTextPost/POST/Resource"
   }
  },
  "SocialNetworkApiuploadPostByImageAfterEditA4C5AAAA": {
   "Type": "AWS::ApiGateway::Resource",
   "Properties": {
    "ParentId": {
     "Fn::GetAtt": [
      "SocialNetworkApiACB67AB1",
      "RootResourceId"
     ]
    },
    "PathPart": "uploadPostByImageAfterEdit",
    "RestApiId": {
     "Ref": "SocialNetworkApiACB67AB1"
    }
   },
   "Metadata": {
    "aws:cdk:path": "SocialNetworkCdkStack/SocialNetworkApi/Default/uploadPostByImageAfterEdit/Resource"
   }
  },
  "SocialNetworkApiuploadPostByImageAfterEditOPTIONSF393D0D3": {
   "Type": "AWS::ApiGateway::Method",
   "Properties": {
    "ApiKeyRequired": false,
    "AuthorizationType": "NONE",
    "HttpMethod": "OPTIONS",
    "Integration": {
     "IntegrationResponses": [
      {
       "ResponseParameters": {
        "method.response.header.Access-Control-Allow-Headers": "'Content-Type,X-Amz-Date,Authorization,X-Api-Key,X-Amz-Security-Token,X-Amz-User-Agent'",
        "method.response.header.Access-Control-Allow-Origin": "'*'",
        "method.response.header.Access-Control-Allow-Methods": "'OPTIONS,GET,PUT,POST,DELETE,PATCH,HEAD'"
       },
       "StatusCode": "204"
      }
     ],
     "RequestTemplates": {
      "application/json": "{ statusCode: 200 }"
     },
     "Type": "MOCK"
    },
    "MethodResponses": [
     {
      "ResponseParameters": {
       "method.response.header.Access-Control-Allow-Headers": true,
       "method.response.header.Access-Control-Allow-Origin": true,
       "method.response.header.Access-Control-Allow-Methods": true
      },
      "StatusCode": "204"
     }
    ],
    "ResourceId": {
     "Ref": "SocialNetworkApiuploadPostByImageAfterEditA4C5AAAA"
    },
    "RestApiId": {
     "Ref": "SocialNetworkApiACB67AB1"
    }
   },
   "Metadata": {
    "aws:cdk:path": "SocialNetworkCdkStack/SocialNetworkApi/Default/uploadPostByImageAfterEdit/OPTIONS/Resource"
   }
  },
  "SocialNetworkApiuploadPostByImageAfterEditPOSTApiPermissionSocialNetworkCdkStackSocialNetworkApiAC936AE9POSTuploadPostByImageAfterEdit67381B88": {
   "Type": "AWS::Lambda::Permission",
   "Properties": {
    "Action": "lambda:InvokeFunction",
    "FunctionName": {
     "Fn::GetAtt": [
      "uploadPostByImageAfterEdit7237AC04",
      "Arn"
     ]
    },
    "Principal": "apigateway.amazonaws.com",
    "SourceArn": {
     "Fn::Join": [
      "",
      [
       "arn:aws:execute-api:us-east-1:361602391862:",
       {
        "Ref": "SocialNetworkApiACB67AB1"
       },
       "/",
       {
        "Ref": "SocialNetworkApiDeploymentStageprod4C6E8575"
       },
       "/POST/uploadPostByImageAfterEdit"
      ]
     ]
    }
   },
   "Metadata": {
    "aws:cdk:path": "SocialNetworkCdkStack/SocialNetworkApi/Default/uploadPostByImageAfterEdit/POST/ApiPermission.SocialNetworkCdkStackSocialNetworkApiAC936AE9.POST..uploadPostByImageAfterEdit"
   }
  },
  "SocialNetworkApiuploadPostByImageAfterEditPOSTApiPermissionTestSocialNetworkCdkStackSocialNetworkApiAC936AE9POSTuploadPostByImageAfterEdit4F7ED30A": {
   "Type": "AWS::Lambda::Permission",
   "Properties": {
    "Action": "lambda:InvokeFunction",
    "FunctionName": {
     "Fn::GetAtt": [
      "uploadPostByImageAfterEdit7237AC04",
      "Arn"
     ]
    },
    "Principal": "apigateway.amazonaws.com",
    "SourceArn": {
     "Fn::Join": [
      "",
      [
       "arn:aws:execute-api:us-east-1:361602391862:",
       {
        "Ref": "SocialNetworkApiACB67AB1"
       },
       "/test-invoke-stage/POST/uploadPostByImageAfterEdit"
      ]
     ]
    }
   },
   "Metadata": {
    "aws:cdk:path": "SocialNetworkCdkStack/SocialNetworkApi/Default/uploadPostByImageAfterEdit/POST/ApiPermission.Test.SocialNetworkCdkStackSocialNetworkApiAC936AE9.POST..uploadPostByImageAfterEdit"
   }
  },
  "SocialNetworkApiuploadPostByImageAfterEditPOSTC814D6C1": {
   "Type": "AWS::ApiGateway::Method",
   "Properties": {
    "AuthorizationType": "NONE",
    "HttpMethod": "POST",
    "Integration": {
     "IntegrationHttpMethod": "POST",
     "Type": "AWS_PROXY",
     "Uri": {
      "Fn::Join": [
       "",
       [
        "arn:aws:apigateway:us-east-1:lambda:path/2015-03-31/functions/",
        {
         "Fn::GetAtt": [
          "uploadPostByImageAfterEdit7237AC04",
          "Arn"
         ]
        },
        "/invocations"
       ]
      ]
     }
    },
    "MethodResponses": [
     {
      "ResponseParameters": {
       "method.response.header.Access-Control-Allow-Origin": true
      },
      "StatusCode": "200"
     }
    ],
    "ResourceId": {
     "Ref": "SocialNetworkApiuploadPostByImageAfterEditA4C5AAAA"
    },
    "RestApiId": {
     "Ref": "SocialNetworkApiACB67AB1"
    }
   },
   "Metadata": {
    "aws:cdk:path": "SocialNetworkCdkStack/SocialNetworkApi/Default/uploadPostByImageAfterEdit/POST/Resource"
   }
  },
  "SocialNetworkApideletePost128C8FD0": {
   "Type": "AWS::ApiGateway::Resource",
   "Properties": {
    "ParentId": {
     "Fn::GetAtt": [
      "SocialNetworkApiACB67AB1",
      "RootResourceId"
     ]
    },
    "PathPart": "deletePost",
    "RestApiId": {
     "Ref": "SocialNetworkApiACB67AB1"
    }
   },
   "Metadata": {
    "aws:cdk:path": "SocialNetworkCdkStack/SocialNetworkApi/Default/deletePost/Resource"
   }
  },
  "SocialNetworkApideletePostOPTIONSC18E87C8": {
   "Type": "AWS::ApiGateway::Method",
   "Properties": {
    "ApiKeyRequired": false,
    "AuthorizationType": "NONE",
    "HttpMethod": "OPTIONS",
    "Integration": {
     "IntegrationResponses": [
      {
       "ResponseParameters": {
        "method.response.header.Access-Control-Allow-Headers": "'Content-Type,X-Amz-Date,Authorization,X-Api-Key,X-Amz-Security-Token,X-Amz-User-Agent'",
        "method.response.header.Access-Control-Allow-Origin": "'*'",
        "method.response.header.Access-Control-Allow-Methods": "'OPTIONS,GET,PUT,POST,DELETE,PATCH,HEAD'"
       },
       "StatusCode": "204"
      }
     ],
     "RequestTemplates": {
      "application/json": "{ statusCode: 200 }"
     },
     "Type": "MOCK"
    },
    "MethodResponses": [
     {
      "ResponseParameters": {
       "method.response.header.Access-Control-Allow-Headers": true,
       "method.response.header.Access-Control-Allow-Origin": true,
       "method.response.header.Access-Control-Allow-Methods": true
      },
      "StatusCode": "204"
     }
    ],
    "ResourceId": {
     "Ref": "SocialNetworkApideletePost128C8FD0"
    },
    "RestApiId": {
     "Ref": "SocialNetworkApiACB67AB1"
    }
   },
   "Metadata": {
    "aws:cdk:path": "SocialNetworkCdkStack/SocialNetworkApi/Default/deletePost/OPTIONS/Resource"
   }
  },
  "SocialNetworkApideletePostDELETEApiPermissionSocialNetworkCdkStackSocialNetworkApiAC936AE9DELETEdeletePostE6E6B568": {
   "Type": "AWS::Lambda::Permission",
   "Properties": {
    "Action": "lambda:InvokeFunction",
    "FunctionName": {
     "Fn::GetAtt": [
      "deletePost14F3F5AA",
      "Arn"
     ]
    },
    "Principal": "apigateway.amazonaws.com",
    "SourceArn": {
     "Fn::Join": [
      "",
      [
       "arn:aws:execute-api:us-east-1:361602391862:",
       {
        "Ref": "SocialNetworkApiACB67AB1"
       },
       "/",
       {
        "Ref": "SocialNetworkApiDeploymentStageprod4C6E8575"
       },
       "/DELETE/deletePost"
      ]
     ]
    }
   },
   "Metadata": {
    "aws:cdk:path": "SocialNetworkCdkStack/SocialNetworkApi/Default/deletePost/DELETE/ApiPermission.SocialNetworkCdkStackSocialNetworkApiAC936AE9.DELETE..deletePost"
   }
  },
  "SocialNetworkApideletePostDELETEApiPermissionTestSocialNetworkCdkStackSocialNetworkApiAC936AE9DELETEdeletePost180E03A0": {
   "Type": "AWS::Lambda::Permission",
   "Properties": {
    "Action": "lambda:InvokeFunction",
    "FunctionName": {
     "Fn::GetAtt": [
      "deletePost14F3F5AA",
      "Arn"
     ]
    },
    "Principal": "apigateway.amazonaws.com",
    "SourceArn": {
     "Fn::Join": [
      "",
      [
       "arn:aws:execute-api:us-east-1:361602391862:",
       {
        "Ref": "SocialNetworkApiACB67AB1"
       },
       "/test-invoke-stage/DELETE/deletePost"
      ]
     ]
    }
   },
   "Metadata": {
    "aws:cdk:path": "SocialNetworkCdkStack/SocialNetworkApi/Default/deletePost/DELETE/ApiPermission.Test.SocialNetworkCdkStackSocialNetworkApiAC936AE9.DELETE..deletePost"
   }
  },
  "SocialNetworkApideletePostDELETE0ED0157E": {
   "Type": "AWS::ApiGateway::Method",
   "Properties": {
    "AuthorizationType": "NONE",
    "HttpMethod": "DELETE",
    "Integration": {
     "IntegrationHttpMethod": "POST",
     "Type": "AWS_PROXY",
     "Uri": {
      "Fn::Join": [
       "",
       [
        "arn:aws:apigateway:us-east-1:lambda:path/2015-03-31/functions/",
        {
         "Fn::GetAtt": [
          "deletePost14F3F5AA",
          "Arn"
         ]
        },
        "/invocations"
       ]
      ]
     }
    },
    "MethodResponses": [
     {
      "ResponseParameters": {
       "method.response.header.Access-Control-Allow-Origin": true
      },
      "StatusCode": "200"
     }
    ],
    "ResourceId": {
     "Ref": "SocialNetworkApideletePost128C8FD0"
    },
    "RestApiId": {
     "Ref": "SocialNetworkApiACB67AB1"
    }
   },
   "Metadata": {
    "aws:cdk:path": "SocialNetworkCdkStack/SocialNetworkApi/Default/deletePost/DELETE/Resource"
   }
  },
  "SocialNetworkApigetAllDonePosts05D5E50A": {
   "Type": "AWS::ApiGateway::Resource",
   "Properties": {
    "ParentId": {
     "Fn::GetAtt": [
      "SocialNetworkApiACB67AB1",
      "RootResourceId"
     ]
    },
    "PathPart": "getAllDonePosts",
    "RestApiId": {
     "Ref": "SocialNetworkApiACB67AB1"
    }
   },
   "Metadata": {
    "aws:cdk:path": "SocialNetworkCdkStack/SocialNetworkApi/Default/getAllDonePosts/Resource"
   }
  },
  "SocialNetworkApigetAllDonePostsOPTIONS2B27FEFC": {
   "Type": "AWS::ApiGateway::Method",
   "Properties": {
    "ApiKeyRequired": false,
    "AuthorizationType": "NONE",
    "HttpMethod": "OPTIONS",
    "Integration": {
     "IntegrationResponses": [
      {
       "ResponseParameters": {
        "method.response.header.Access-Control-Allow-Headers": "'Content-Type,X-Amz-Date,Authorization,X-Api-Key,X-Amz-Security-Token,X-Amz-User-Agent'",
        "method.response.header.Access-Control-Allow-Origin": "'*'",
        "method.response.header.Access-Control-Allow-Methods": "'OPTIONS,GET,PUT,POST,DELETE,PATCH,HEAD'"
       },
       "StatusCode": "204"
      }
     ],
     "RequestTemplates": {
      "application/json": "{ statusCode: 200 }"
     },
     "Type": "MOCK"
    },
    "MethodResponses": [
     {
      "ResponseParameters": {
       "method.response.header.Access-Control-Allow-Headers": true,
       "method.response.header.Access-Control-Allow-Origin": true,
       "method.response.header.Access-Control-Allow-Methods": true
      },
      "StatusCode": "204"
     }
    ],
    "ResourceId": {
     "Ref": "SocialNetworkApigetAllDonePosts05D5E50A"
    },
    "RestApiId": {
     "Ref": "SocialNetworkApiACB67AB1"
    }
   },
   "Metadata": {
    "aws:cdk:path": "SocialNetworkCdkStack/SocialNetworkApi/Default/getAllDonePosts/OPTIONS/Resource"
   }
  },
  "SocialNetworkApigetAllDonePostsGETApiPermissionSocialNetworkCdkStackSocialNetworkApiAC936AE9GETgetAllDonePostsADD6F59B": {
   "Type": "AWS::Lambda::Permission",
   "Properties": {
    "Action": "lambda:InvokeFunction",
    "FunctionName": {
     "Fn::GetAtt": [
      "getAllDonePosts951614DF",
      "Arn"
     ]
    },
    "Principal": "apigateway.amazonaws.com",
    "SourceArn": {
     "Fn::Join": [
      "",
      [
       "arn:aws:execute-api:us-east-1:361602391862:",
       {
        "Ref": "SocialNetworkApiACB67AB1"
       },
       "/",
       {
        "Ref": "SocialNetworkApiDeploymentStageprod4C6E8575"
       },
       "/GET/getAllDonePosts"
      ]
     ]
    }
   },
   "Metadata": {
    "aws:cdk:path": "SocialNetworkCdkStack/SocialNetworkApi/Default/getAllDonePosts/GET/ApiPermission.SocialNetworkCdkStackSocialNetworkApiAC936AE9.GET..getAllDonePosts"
   }
  },
  "SocialNetworkApigetAllDonePostsGETApiPermissionTestSocialNetworkCdkStackSocialNetworkApiAC936AE9GETgetAllDonePosts9796C7C3": {
   "Type": "AWS::Lambda::Permission",
   "Properties": {
    "Action": "lambda:InvokeFunction",
    "FunctionName": {
     "Fn::GetAtt": [
      "getAllDonePosts951614DF",
      "Arn"
     ]
    },
    "Principal": "apigateway.amazonaws.com",
    "SourceArn": {
     "Fn::Join": [
      "",
      [
       "arn:aws:execute-api:us-east-1:361602391862:",
       {
        "Ref": "SocialNetworkApiACB67AB1"
       },
       "/test-invoke-stage/GET/getAllDonePosts"
      ]
     ]
    }
   },
   "Metadata": {
    "aws:cdk:path": "SocialNetworkCdkStack/SocialNetworkApi/Default/getAllDonePosts/GET/ApiPermission.Test.SocialNetworkCdkStackSocialNetworkApiAC936AE9.GET..getAllDonePosts"
   }
  },
  "SocialNetworkApigetAllDonePostsGET30412FAC": {
   "Type": "AWS::ApiGateway::Method",
   "Properties": {
    "AuthorizationType": "NONE",
    "HttpMethod": "GET",
    "Integration": {
     "IntegrationHttpMethod": "POST",
     "Type": "AWS_PROXY",
     "Uri": {
      "Fn::Join": [
       "",
       [
        "arn:aws:apigateway:us-east-1:lambda:path/2015-03-31/functions/",
        {
         "Fn::GetAtt": [
          "getAllDonePosts951614DF",
          "Arn"
         ]
        },
        "/invocations"
       ]
      ]
     }
    },
    "MethodResponses": [
     {
      "ResponseParameters": {
       "method.response.header.Access-Control-Allow-Origin": true
      },
      "StatusCode": "200"
     }
    ],
    "ResourceId": {
     "Ref": "SocialNetworkApigetAllDonePosts05D5E50A"
    },
    "RestApiId": {
     "Ref": "SocialNetworkApiACB67AB1"
    }
   },
   "Metadata": {
    "aws:cdk:path": "SocialNetworkCdkStack/SocialNetworkApi/Default/getAllDonePosts/GET/Resource"
   }
  },
  "updateDBProfilePictureFunctionSecurityGroupA1198177": {
   "Type": "AWS::EC2::SecurityGroup",
   "Properties": {
    "GroupDescription": "Automatic security group for Lambda Function SocialNetworkCdkStackupdateDBProfilePictureFunction0C61FED1",
    "SecurityGroupEgress": [
     {
      "CidrIp": "0.0.0.0/0",
      "Description": "Allow all outbound traffic by default",
      "IpProtocol": "-1"
     }
    ],
    "VpcId": "vpc-05fc44f3c7d685edb"
   },
   "Metadata": {
    "aws:cdk:path": "SocialNetworkCdkStack/updateDBProfilePictureFunction/SecurityGroup/Resource"
   }
  },
  "updateDBProfilePictureFunction4F2F4DA1": {
   "Type": "AWS::Lambda::Function",
   "Properties": {
    "Code": {
     "S3Bucket": "cdk-hnb659fds-assets-361602391862-us-east-1",
     "S3Key": "dae2820c432b0c58ef3702dab036e794ed19a2fa9ef0171daec76b55df03c84f.zip"
    },
    "Environment": {
     "Variables": {
      "TABLE_NAME": {
       "Ref": "Users0A0EEA89"
      },
      "IMAGE_BUCKET_NAME": {
       "Ref": "ImageStorage82E68681"
      }
     }
    },
    "Handler": "index.handler",
    "Role": "arn:aws:iam::361602391862:role/LabRole",
    "Runtime": "nodejs20.x",
    "VpcConfig": {
     "SecurityGroupIds": [
      {
       "Fn::GetAtt": [
        "updateDBProfilePictureFunctionSecurityGroupA1198177",
        "GroupId"
       ]
      }
     ],
     "SubnetIds": [
      "subnet-0c2283da7ffab1df2",
      "subnet-0cff5a0113ea24898"
     ]
    }
   },
   "Metadata": {
    "aws:cdk:path": "SocialNetworkCdkStack/updateDBProfilePictureFunction/Resource",
    "aws:asset:path": "asset.dae2820c432b0c58ef3702dab036e794ed19a2fa9ef0171daec76b55df03c84f",
    "aws:asset:is-bundled": false,
    "aws:asset:property": "Code"
   }
  },
  "BucketNotificationsHandler050a0587b7544547bf325f094a3db8347ECC3691": {
   "Type": "AWS::Lambda::Function",
   "Properties": {
    "Description": "AWS CloudFormation handler for \"Custom::S3BucketNotifications\" resources (@aws-cdk/aws-s3)",
    "Code": {
     "ZipFile": "import boto3  # type: ignore\nimport json\nimport logging\nimport urllib.request\n\ns3 = boto3.client(\"s3\")\n\nEVENTBRIDGE_CONFIGURATION = 'EventBridgeConfiguration'\nCONFIGURATION_TYPES = [\"TopicConfigurations\", \"QueueConfigurations\", \"LambdaFunctionConfigurations\"]\n\ndef handler(event: dict, context):\n  response_status = \"SUCCESS\"\n  error_message = \"\"\n  try:\n    props = event[\"ResourceProperties\"]\n    notification_configuration = props[\"NotificationConfiguration\"]\n    managed = props.get('Managed', 'true').lower() == 'true'\n    stack_id = event['StackId']\n    old = event.get(\"OldResourceProperties\", {}).get(\"NotificationConfiguration\", {})\n    if managed:\n      config = handle_managed(event[\"RequestType\"], notification_configuration)\n    else:\n      config = handle_unmanaged(props[\"BucketName\"], stack_id, event[\"RequestType\"], notification_configuration, old)\n    s3.put_bucket_notification_configuration(Bucket=props[\"BucketName\"], NotificationConfiguration=config)\n  except Exception as e:\n    logging.exception(\"Failed to put bucket notification configuration\")\n    response_status = \"FAILED\"\n    error_message = f\"Error: {str(e)}. \"\n  finally:\n    submit_response(event, context, response_status, error_message)\n\ndef handle_managed(request_type, notification_configuration):\n  if request_type == 'Delete':\n    return {}\n  return notification_configuration\n\ndef handle_unmanaged(bucket, stack_id, request_type, notification_configuration, old):\n  def with_id(n):\n    n['Id'] = f\"{stack_id}-{hash(json.dumps(n, sort_keys=True))}\"\n    return n\n\n  external_notifications = {}\n  existing_notifications = s3.get_bucket_notification_configuration(Bucket=bucket)\n  for t in CONFIGURATION_TYPES:\n    if request_type == 'Update':\n        ids = [with_id(n) for n in old.get(t, [])]\n        old_incoming_ids = [n['Id'] for n in ids]\n        external_notifications[t] = [n for n in existing_notifications.get(t, []) if not n['Id'] in old_incoming_ids]\n    elif request_type == 'Delete':\n        external_notifications[t] = [n for n in existing_notifications.get(t, []) if not n['Id'].startswith(f\"{stack_id}-\")]\n    elif request_type == 'Create':\n        external_notifications[t] = [n for n in existing_notifications.get(t, [])]\n  if EVENTBRIDGE_CONFIGURATION in existing_notifications:\n    external_notifications[EVENTBRIDGE_CONFIGURATION] = existing_notifications[EVENTBRIDGE_CONFIGURATION]\n\n  if request_type == 'Delete':\n    return external_notifications\n\n  notifications = {}\n  for t in CONFIGURATION_TYPES:\n    external = external_notifications.get(t, [])\n    incoming = [with_id(n) for n in notification_configuration.get(t, [])]\n    notifications[t] = external + incoming\n\n  if EVENTBRIDGE_CONFIGURATION in notification_configuration:\n    notifications[EVENTBRIDGE_CONFIGURATION] = notification_configuration[EVENTBRIDGE_CONFIGURATION]\n  elif EVENTBRIDGE_CONFIGURATION in external_notifications:\n    notifications[EVENTBRIDGE_CONFIGURATION] = external_notifications[EVENTBRIDGE_CONFIGURATION]\n\n  return notifications\n\ndef submit_response(event: dict, context, response_status: str, error_message: str):\n  response_body = json.dumps(\n    {\n      \"Status\": response_status,\n      \"Reason\": f\"{error_message}See the details in CloudWatch Log Stream: {context.log_stream_name}\",\n      \"PhysicalResourceId\": event.get(\"PhysicalResourceId\") or event[\"LogicalResourceId\"],\n      \"StackId\": event[\"StackId\"],\n      \"RequestId\": event[\"RequestId\"],\n      \"LogicalResourceId\": event[\"LogicalResourceId\"],\n      \"NoEcho\": False,\n    }\n  ).encode(\"utf-8\")\n  headers = {\"content-type\": \"\", \"content-length\": str(len(response_body))}\n  try:\n    req = urllib.request.Request(url=event[\"ResponseURL\"], headers=headers, data=response_body, method=\"PUT\")\n    with urllib.request.urlopen(req) as response:\n      print(response.read().decode(\"utf-8\"))\n    print(\"Status code: \" + response.reason)\n  except Exception as e:\n      print(\"send(..) failed executing request.urlopen(..): \" + str(e))\n"
    },
    "Handler": "index.handler",
    "Role": "arn:aws:iam::361602391862:role/LabRole",
    "Runtime": "python3.11",
    "Timeout": 300
   },
   "Metadata": {
    "aws:cdk:path": "SocialNetworkCdkStack/BucketNotificationsHandler050a0587b7544547bf325f094a3db834/Resource"
   }
  },
  "TextractFunction6DF7C8EE": {
   "Type": "AWS::Lambda::Function",
   "Properties": {
    "Code": {
     "S3Bucket": "cdk-hnb659fds-assets-361602391862-us-east-1",
     "S3Key": "c6ec1c23e0cc61e3025a47bf35ef4bde6d8ec2d7e9d6b05421e2fe594a481ef9.zip"
    },
    "Environment": {
     "Variables": {
      "BUCKET_NAME": {
       "Ref": "PostsStorage00A69DB4"
      },
      "OUTPUT_QUEUE_URL": {
       "Ref": "TextractResultQueue3C564822"
      }
     }
    },
    "Handler": "index.handler",
    "Role": "arn:aws:iam::361602391862:role/LabRole",
    "Runtime": "nodejs20.x"
   },
   "Metadata": {
    "aws:cdk:path": "SocialNetworkCdkStack/TextractFunction/Resource",
    "aws:asset:path": "asset.c6ec1c23e0cc61e3025a47bf35ef4bde6d8ec2d7e9d6b05421e2fe594a481ef9",
    "aws:asset:is-bundled": false,
    "aws:asset:property": "Code"
   }
  },
  "TextractFunctionSqsEventSourceSocialNetworkCdkStackImageUploadQueueD2C5024A58297646": {
   "Type": "AWS::Lambda::EventSourceMapping",
   "Properties": {
    "EventSourceArn": {
     "Fn::GetAtt": [
      "ImageUploadQueue828B2CCD",
      "Arn"
     ]
    },
    "FunctionName": {
     "Ref": "TextractFunction6DF7C8EE"
    }
   },
   "Metadata": {
    "aws:cdk:path": "SocialNetworkCdkStack/TextractFunction/SqsEventSource:SocialNetworkCdkStackImageUploadQueueD2C5024A/Resource"
   }
  },
  "StorePostFromSQStoDb72F4D63C": {
   "Type": "AWS::Lambda::Function",
   "Properties": {
    "Code": {
     "S3Bucket": "cdk-hnb659fds-assets-361602391862-us-east-1",
     "S3Key": "a2a1dce579720225be4535be47d8f31a523d37efd7d57d41f53bed55c5061c2b.zip"
    },
    "Environment": {
     "Variables": {
      "POSTS_TABLE_NAME": {
       "Ref": "Posts868B3EAD"
      }
     }
    },
    "Handler": "index.handler",
    "Role": "arn:aws:iam::361602391862:role/LabRole",
    "Runtime": "nodejs20.x"
   },
   "Metadata": {
    "aws:cdk:path": "SocialNetworkCdkStack/StorePostFromSQStoDb/Resource",
    "aws:asset:path": "asset.a2a1dce579720225be4535be47d8f31a523d37efd7d57d41f53bed55c5061c2b",
    "aws:asset:is-bundled": false,
    "aws:asset:property": "Code"
   }
  },
  "StorePostFromSQStoDbSqsEventSourceSocialNetworkCdkStackTextractResultQueue24FEC1B7042376E2": {
   "Type": "AWS::Lambda::EventSourceMapping",
   "Properties": {
    "EventSourceArn": {
     "Fn::GetAtt": [
      "TextractResultQueue3C564822",
      "Arn"
     ]
    },
    "FunctionName": {
     "Ref": "StorePostFromSQStoDb72F4D63C"
    }
   },
   "Metadata": {
    "aws:cdk:path": "SocialNetworkCdkStack/StorePostFromSQStoDb/SqsEventSource:SocialNetworkCdkStackTextractResultQueue24FEC1B7/Resource"
   }
  },
  "CDKMetadata": {
   "Type": "AWS::CDK::Metadata",
   "Properties": {
    "Analytics": "v2:deflate64:H4sIAAAAAAAA/2WRTW+DMAyGf8vuadZ2H/eWddUO3RjsXpngdmkhYdhphRD/fUpgFGmX+HntyHptL+Xi8VnO7+BKM5WfZ4XOZJsyqLNIkKyrFQq40r5FtZRtdDCbt1hEB/MOvAXGKzReJdYxfkFW4Kg8pC4zyLfiisgqDaytESkqV2tutrV1Vfg8TXQibwyUNs9kO/YN0Al6kO3aqTOyTw7Uh9gWWjW39KB7sQbCThRQZjmEUWKsS03k3bw6o4Kt6GBG3lzQcBp2sIOq0uboy/+z3tIeiJBJrnwQ9EOy/XTogu8ewnszOJGdgEof+23KNkHiVaXDIgd8waqwTYkmTDxRKcOx33SAv4v5ScUO+dvmvjjQeM++c+CumyrPH44rxyLM4bv6qZUjtuW+Hr6RjGt70TnWIgqVsZswNkd5ovvLci4XT3JxdyKtZ7UzrEuUSR9/AaKBxfl0AgAA"
   },
   "Metadata": {
    "aws:cdk:path": "SocialNetworkCdkStack/CDKMetadata/Default"
   }
  }
 },
 "Outputs": {
  "ImageStorageOutput": {
   "Value": {
    "Ref": "ImageStorage82E68681"
   }
  },
  "PostsStorageOutput": {
   "Value": {
    "Ref": "PostsStorage00A69DB4"
   }
  },
  "SocialNetworkApiEndpointE7682DC6": {
   "Value": {
    "Fn::Join": [
     "",
     [
      "https://",
      {
       "Ref": "SocialNetworkApiACB67AB1"
      },
      ".execute-api.us-east-1.",
      {
       "Ref": "AWS::URLSuffix"
      },
      "/",
      {
       "Ref": "SocialNetworkApiDeploymentStageprod4C6E8575"
      },
      "/"
     ]
    ]
   }
  },
  "ApiUrl": {
   "Value": {
    "Fn::Join": [
     "",
     [
      "https://",
      {
       "Ref": "SocialNetworkApiACB67AB1"
      },
      ".execute-api.us-east-1.",
      {
       "Ref": "AWS::URLSuffix"
      },
      "/",
      {
       "Ref": "SocialNetworkApiDeploymentStageprod4C6E8575"
      },
      "/"
     ]
    ]
   },
   "Export": {
    "Name": "SocialNetworkApiUrl"
   }
  }
 },
 "Parameters": {
  "BootstrapVersion": {
   "Type": "AWS::SSM::Parameter::Value<String>",
   "Default": "/cdk-bootstrap/hnb659fds/version",
   "Description": "Version of the CDK Bootstrap resources in this environment, automatically retrieved from SSM Parameter Store. [cdk:skip]"
  }
 },
 "Rules": {
  "CheckBootstrapVersion": {
   "Assertions": [
    {
     "Assert": {
      "Fn::Not": [
       {
        "Fn::Contains": [
         [
          "1",
          "2",
          "3",
          "4",
          "5"
         ],
         {
          "Ref": "BootstrapVersion"
         }
        ]
       }
      ]
     },
     "AssertDescription": "CDK bootstrap stack version 6 required. Please run 'cdk bootstrap' with a recent version of the CDK CLI."
    }
   ]
  }
 }
}